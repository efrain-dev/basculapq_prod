(function(){"use strict";var e={9335:function(e,t,a){var i=a(6848),o=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[e.isLoggedIn?t("NavBar",{on:{logout:e.logout}},[t("div",{staticClass:"content"},[t("router-view")],1)]):t("div",{staticClass:"content"},[t("LoginView",{on:{logged:e.navigate}})],1)],1)},n=[],r=(a(4114),function(){var e=this,t=e._self._c;return t("div",{staticClass:"login-container shadow"},[e._m(0),t("div",{staticClass:"mb-3"},[t("label",{staticClass:"form-label"},[e._v("Usuario")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),t("div",{staticClass:"mb-3"},[t("label",{staticClass:"form-label"},[e._v("Contraseña")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:e.password},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)},input:function(t){t.target.composing||(e.password=t.target.value)}}})]),t("div",{staticClass:"mb-3"},[t("label",{staticClass:"form-label"},[e._v("Bascula")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.bascula,expression:"bascula"}],staticClass:"form-control",attrs:{type:"text"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)},change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.bascula=t.target.multiple?a:a[0]},e.login]}},[t("option",{attrs:{value:"0",selected:""}},[e._v("Seleccionar Opción")]),t("option",{attrs:{value:"1"}},[e._v("Bascula 1")]),t("option",{attrs:{value:"2"}},[e._v("Bascula 2")]),t("option",{attrs:{value:"3"}},[e._v("Bascula 3")]),t("option",{attrs:{value:"4"}},[e._v("Bascula 4")]),t("option",{attrs:{value:"5"}},[e._v("Bascula 5")]),t("option",{attrs:{value:"6"}},[e._v("Bascula 6")]),t("option",{attrs:{value:"7"}},[e._v("Bascula 7")])])]),t("div",{staticClass:"text-center"},[t("button",{staticClass:"btn btn-success btn-lg",attrs:{type:"button"},on:{click:e.login}},[e._v(" Acceder ")])])])}),s=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"m-auto p-3"},[t("img",{attrs:{src:"/icono-neporsa.jpg",alt:"Icono de Neporsa"}})])}];const l="http://192.168.3.51:5000";var c=a(4373),m={login({username:e,password:t}){return c.A.get(`${l}/login?username=${e}&password=${t}`)}},u=a(4874),d=a.n(u);const v=async(e,t,a="warning",i="Confirm",o="Cancel")=>await d().fire({title:e,text:t,icon:a,showCancelButton:!0,confirmButtonText:i,cancelButtonText:o,customClass:{title:"swal2-title"}}),p=async(e,t,a="success",i=4e3,o=!0)=>await d().fire({title:e,html:t,icon:a,showConfirmButton:!1,allowOutsideClick:o,timer:i}),g=async(e,t="success",a=2e3)=>await d().fire({title:e,icon:t,showConfirmButton:!1,timer:a,toast:!0,position:"top-right"});var y={data:()=>({username:"",password:"",bascula:0}),methods:{async test(){await p("Exito","Ingresado con exito","success")},async login(){try{if(this.isFormFilled){const{username:e,password:t,bascula:a}=this;await m.login({username:e,password:t}),localStorage.setItem("username",e),localStorage.setItem("password",t),localStorage.setItem("bascula",a),await p("Exito","Ingresado con exito","success"),this.$emit("logged")}else await p("Advertencia","Por favor llenar el formulario","warning",3e3,!1)}catch(e){await p("Error",e,"error",3e3,!1),console.error(e)}}},computed:{isFormFilled(){return this.username&&this.password&&0!==this.bascula}}},h=y,b=a(1656),C=(0,b.A)(h,r,s,!1,null,null,null),f=C.exports,w=function(){var e=this,t=e._self._c;return t("div",{staticClass:"mt-2",staticStyle:{width:"100vw"}},[t("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light shadow rounded"},[t("div",{staticClass:"container-fluid"},[t("div",{staticClass:"d-flex justify-content-center align-items-center"},[t("img",{staticStyle:{"max-height":"3rem"},attrs:{src:"/favicon.png",alt:""}}),t("router-link",{staticClass:"navbar-brand ms-2",attrs:{tag:"a",to:"/"}},[e._v("PQ Pesajes")])],1),e._m(0),t("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNav"}},[t("ul",{staticClass:"navbar-nav"},[t("li",{staticClass:"nav-item"},[t("router-link",{staticClass:"nav-link",attrs:{to:"/pesaje"}},[e._v("Pesaje")])],1),t("li",{staticClass:"nav-item"},[t("router-link",{staticClass:"nav-link",attrs:{to:"/anular-pesaje"}},[e._v("Anulación de Pesaje")])],1)]),t("li",{staticClass:"nav-item text-danger ms-auto my-2",staticStyle:{"list-style-type":"none"}},[t("div",{staticClass:"nav-link",on:{click:e.logoutHandle}},[e._v("Cerrar Sesión")])])])])]),e._t("default")],2)},E=[function(){var e=this,t=e._self._c;return t("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"}},[t("span",{staticClass:"navbar-toggler-icon"})])}],N={methods:{logoutHandle(){console.log("logout handle"),this.$emit("logout")}}},x=N,A=(0,b.A)(x,w,E,!1,null,null,null),_=A.exports,D={name:"App",components:{LoginView:f,NavBar:_},data:()=>({isLoggedIn:!1}),methods:{async logout(){try{console.log("init logout"),localStorage.setItem("username",void 0),localStorage.setItem("password",void 0),await p("Exito","Sesión cerrada con exito","success"),this.$router.push("/"),this.isLoggedIn=!1,console.log("end logout")}catch(e){await p("Error",e,"error",3e3,!1),console.error(e)}},navigate(){this.isLoggedIn=!0}}},T=D,P=(0,b.A)(T,o,n,!1,null,null,null),S=P.exports,k=(a(8077),function(){var e=this,t=e._self._c;return t("div",[e._v("En construccion")])}),O=[],B={dailyWeights({to:e,from:t,username:a,password:i}){return c.A.get(`${l}/get-daily-weights?to=${e}&from=${t}&username=${a}&password=${i}`)}},R={methods:{async getDailyWeights(){try{const e=new Date,t=-6,a=new Date(e.getTime()+60*t*60*1e3),i=new Date(a);i.setDate(i.getDate()-1);const o=this.transformDate(a),n=this.transformDate(i),r=localStorage.getItem("username"),s=localStorage.getItem("password"),{data:l}=await B.dailyWeights({to:o,from:n,username:r,password:s});console.log("Daily Weights",l)}catch(e){console.error(e)}},transformDate(e){const t=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getFullYear()).slice(-2),o=`${t}/${a}/${i}`;return o}},mounted(){this.getDailyWeights()}},L=R,W=(0,b.A)(L,k,O,!1,null,null,null),I=W.exports,$=function(){var e=this,t=e._self._c;return t("div",{staticClass:"bg-white p-3 m-3 rounded shadow"},[t("section",[t("h3",{staticClass:"text-center text-dark fw-bold"},[e._v("Anulación de Pesajes")]),t("div",{staticClass:"col"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col"},[t("label",{staticClass:"text-dark m-2 fw-bold"},[e._v("Ciclo")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.nullCycle,expression:"nullCycle"}],staticClass:"form-control",attrs:{type:"text",disabled:e.isLoading},domProps:{value:e.nullCycle},on:{input:function(t){t.target.composing||(e.nullCycle=t.target.value)}}})]),t("div",{staticClass:"col"},[t("label",{staticClass:"text-dark m-2 fw-bold"},[e._v("Fecha Ciclo")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.nullCycleDate,expression:"nullCycleDate"}],staticClass:"form-control",attrs:{type:"datetime-local",disabled:e.isLoading},domProps:{value:e.nullCycleDate},on:{input:function(t){t.target.composing||(e.nullCycleDate=t.target.value)}}})])])]),t("div",{staticClass:"col"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col"},[t("label",{staticClass:"text-dark m-2 fw-bold"},[e._v("Carga")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.nullContainerType,expression:"nullContainerType"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.nullContainerType},on:{input:function(t){t.target.composing||(e.nullContainerType=t.target.value)}}})]),t("div",{staticClass:"col"},[t("label",{staticClass:"text-dark m-2 fw-bold"},[e._v("Numero de Registro")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.nullRegistryNumber,expression:"nullRegistryNumber"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.nullRegistryNumber},on:{input:function(t){t.target.composing||(e.nullRegistryNumber=t.target.value)}}})])])]),t("div",{staticClass:"col"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col"},[t("label",{staticClass:"text-dark m-2 fw-bold"},[e._v("Tipo de Pesaje")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.nullWeightingType,expression:"nullWeightingType"}],staticClass:"form-control",attrs:{type:"text"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.nullWeightingType=t.target.multiple?a:a[0]}}},[t("option",{attrs:{value:"E"}},[e._v("Entrada")]),t("option",{attrs:{value:"S"}},[e._v("Salida")])])])])])]),t("div",{staticClass:"m-3 text-center"},[t("button",{staticClass:"btn btn-primary btn-lg me-2",attrs:{type:"button"},on:{click:e.nullWeight}},[e._v(" Anular Pesaje ")]),t("button",{staticClass:"btn btn-danger btn-lg me-2",attrs:{type:"button"},on:{click:e.resetData}},[e._v(" Limpiar ")])])])},M=[],j={getLocalCycle({username:e,password:t,cycle:a,date:i,correlative:o}){return c.A.get(`${l}/get-local-ciclo?username=${e}&password=${t}&numero_ciclo=${a}&fecha=${i}&correlativo=${o}`)},getCycle({cycle:e}){return c.A.get(`${l}/get-datos-ciclo?numero_ciclo=${e}`)},nullCycle({nullCycle:e,nullCycleDate:t,nullContainerType:a,nullRegistryNumber:i,nullWeightingType:o}){return c.A.get(`${l}/anular-pesaje?ciclo=${e}&fecha=${t}&indicador=${a}&numero_registro=${i}&tipo_pesaje=${o}`)},localNullCycle({nullCycle:e,nullCycleDate:t,username:a,password:i}){return c.A.get(`${l}/actualizar-anulado?ciclo=${e}&fecha=${t}\n                &username=${a}&password=${i}`)},getPolicy({cycle:e,bl:t}){return c.A.get(`${l}/get-datos-poliza?numero_ciclo=${e}&bl=${t}`)},getReportEmployees({to:e,from:t,username:a,password:i}){return c.A.get(`${l}/get-excel?to=${e}&from=${t}&username=${a}&password=${i}`,{responseType:"blob"})},getWeightData({cycle:e,registryNumber:t}){return c.A.get(`${l}/get-datos-pesaje?numero_ciclo=${e}&numero_registro=${t}`)},getBL({duca:e}){return c.A.get(`${l}/get-datos-salida?no_duca=${e}`)},getAppointment({containerNumber:e}){return c.A.get(`${l}/get-datos-cita?contenedor=${e}`)},getCorrelative({basculaNumber:e,companyNumber:t}){return c.A.get(`${l}/get-correlativo?empresa=${t}&bascula=${e}`)},createLocalCycleRegistry({headerCycle:e,headerCycleDate:t,headerCompany:a,headerLicenseNumber:i,headerLicenseCountry:o,headerPilot:n,headerPlateCountry:r,headerPlateNumber:s,headerObservation:m,headerTruckType:u,headerEntryDate:d,headerEntryHour:v,movementRegistryNumber:p,movementEntryWeight:g,movementExitWeight:y,movementEntryDate:h,movementEntryTime:b,movementExitDate:C,movementExitTime:f,movementEntryBascName:w,movementEntryBascNumber:E,movementExitBascName:N,movementExitBascNumber:x,movementEntryBoleta:A,movementExitBoleta:_,movementEntryTicket:D,movementExitTicket:T,containerNumber:P,containerTaraWeight:S,containerLoadNetWeight:k,containerShip:O,containerLoadType:B,containerObservations:R,policyDucaNumber:L,policyBlNumber:W,policyCosignee:I,policyManifest:$,policyNumber:M,policyWeight:j}){return c.A.post(`${l}/ingreso_peso-local`,{fecha_ciclo:t,num_ciclo:e,correlativo:p,identif_contenedor:P,peso_tara_contened:S,peso_entrada:g,fecha_pesaje_entrada:h,ticket_entrada:D,bascula_entrada:E,empresa_entrada:w,peso_salida:y,fecha_pesaje_salida:C,ticket_salida:T,bascula_salida:x,empresa_salida:N,nombre_transportista:a,nombre_piloto:n,cod_pais_piloto:o,numero_licencia_piloto:i,cod_pais_placa:r,numero_placa:s,descripcion:m,tamano:0,indicador_tabla:B})},createCycleRegistry({weightDevice:e,headerCycle:t,headerCycleDate:a,movementRegistryNumber:i,weight:o,boleta:n,date:r,weightType:s,machine:m,observation:u,taraWeight:d,ticket:v,containerNumber:p}){return c.A.post(`${l}/ingreso_peso`,{empresa:25,bascula:e,numero:t,fecha_ciclo:a,numero_registro:i,peso:o,boleta:n,fecha:r,tipo_pesaje:s,maquina:m,observacion:u,tara:d,ticket:v,contenedor:p})}};function H(e){const[t,a]=e?e.split(" "):[null,null];return{DATE:t,TIME:a}}function U(e){const t=new Date(e),a=String(t.getDate()).padStart(2,"0"),i=String(t.getMonth()+1).padStart(2,"0"),o=t.getFullYear(),n=String(t.getHours()).padStart(2,"0"),r=String(t.getMinutes()).padStart(2,"0"),s=String(t.getSeconds()).padStart(2,"0"),l=`${a}/${i}/${o} ${n}:${r}:${s}`;return l}var F={data:()=>({isLoading:!1,nullCycle:null,nullCycleDate:null,nullContainerType:null,nullRegistryNumber:null,nullWeightingType:null}),methods:{resetData(){this.nullCycle=null,this.nullCycleDate=null,this.nullContainerType=null,this.nullRegistryNumber=null,this.nullWeightingType=null,this.isLoading=!1},async nullWeight(){if(this.isFormValid){const{nullCycle:t,nullCycleDate:a,nullContainerType:i,nullRegistryNumber:o,nullWeightingType:n}=this,r=localStorage.getItem("username"),s=localStorage.getItem("password"),l=U(a);this.isLoading=!0;try{g("Anulando Pesaje por favor espere","warning");const{data:e}=await j.nullCycle({nullCycle:t,nullCycleDate:l,nullContainerType:i,nullRegistryNumber:o,nullWeightingType:n}),{TIPO_RESPUESTA:a}=e;"01"===a["RESULTADO"]?(await g(`Exito, pesaje ${t} anulado`,"success"),await this.nullLocalWeight({nullCycle:t,formatedCycleDate:l,username:r,password:s})):await p("Advertencia",a["DESCRIPCION"],"warning")}catch(e){await p("Error",e,"error",3e3,!1),console.error(e)}finally{this.isLoading=!1}}else g("Por favor ingrese todos los datos","warning")},async nullLocalWeight({nullCycle:e,formatedCycleDate:t,username:a,password:i}){try{g("Registrando anulación de pesaje en local por favor espere","warning"),await j.localNullCycle({nullCycle:e,nullCycleDate:t,username:a,password:i}),await g(`Exito, anulación de pesaje ${e} registrada`,"success")}catch(o){await g(`Error al registrar anulación de pesaje local ${o}`,"error")}}},computed:{isFormValid(){return!!this.nullCycle&&!!this.nullCycleDate&&!!this.nullContainerType&&!!this.nullRegistryNumber&&!!this.nullWeightingType}}},G=F,V=(0,b.A)(G,$,M,!1,null,null,null),z=V.exports,q=function(){var e=this,t=e._self._c;return t("div",{staticClass:"bg-white p-3 m-3 rounded shadow"},[t("section",[t("h3",{staticClass:"text-center text-black fw-bold"},[e._v("Pesaje de Camiones")]),t("div",{staticClass:"row mt-1"},[t("div",{staticClass:"col"},[t("div",{staticClass:"row"},[t("label",{staticClass:"mb-2 text-black fw-bold"},[e._v("Ciclo")]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.headerCycle,expression:"headerCycle"}],staticClass:"form-control writeable",attrs:{type:"text",disabled:e.isLoading,tabindex:"1"},domProps:{value:e.headerCycle},on:{change:e.getHeaderAndWeightData,input:function(t){t.target.composing||(e.headerCycle=t.target.value)}}})]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.headerCycleDate,expression:"headerCycleDate"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e.headerCycleDate},on:{input:function(t){t.target.composing||(e.headerCycleDate=t.target.value)}}})])])]),t("div",{staticClass:"col"},[t("div",{staticClass:"row"},[t("label",{staticClass:"mb-2 text-black fw-bold"},[e._v("Licencia")]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.headerLicenseCountry,expression:"headerLicenseCountry"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e.headerLicenseCountry},on:{input:function(t){t.target.composing||(e.headerLicenseCountry=t.target.value)}}})]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.headerLicenseNumber,expression:"headerLicenseNumber"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e.headerLicenseNumber},on:{input:function(t){t.target.composing||(e.headerLicenseNumber=t.target.value)}}})])])])]),t("div",{staticClass:"row mt-1"},[t("div",{staticClass:"col"},[t("div",{staticClass:"row"},[t("label",{staticClass:"mb-2 text-black fw-bold"},[e._v("Transporte")]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.headerCompany,expression:"headerCompany"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e.headerCompany},on:{input:function(t){t.target.composing||(e.headerCompany=t.target.value)}}})])])]),t("div",{staticClass:"col"},[t("div",{staticClass:"row"},[t("label",{staticClass:"mb-2 text-black fw-bold"},[e._v("Piloto")]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.headerPilot,expression:"headerPilot"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e.headerPilot},on:{input:function(t){t.target.composing||(e.headerPilot=t.target.value)}}})])])])]),t("div",{staticClass:"row mt-1"},[t("div",{staticClass:"col"},[t("div",{staticClass:"row"},[t("label",{staticClass:"mb-2 text-black fw-bold"},[e._v("Placa")]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.headerPlateCountry,expression:"headerPlateCountry"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e.headerPlateCountry},on:{input:function(t){t.target.composing||(e.headerPlateCountry=t.target.value)}}})]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.headerPlateNumber,expression:"headerPlateNumber"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e.headerPlateNumber},on:{input:function(t){t.target.composing||(e.headerPlateNumber=t.target.value)}}})])])]),t("div",{staticClass:"col"},[t("div",{staticClass:"row"},[t("label",{staticClass:"mb-2 text-black fw-bold"},[e._v("Observación")]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.headerObservation,expression:"headerObservation"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e.headerObservation},on:{input:function(t){t.target.composing||(e.headerObservation=t.target.value)}}})])])])]),t("div",{staticClass:"row mt-1 border-bottom pb-2"},[t("div",{staticClass:"col"},[t("div",{staticClass:"row"},[t("label",{staticClass:"mb-2 text-black fw-bold"},[e._v("Ingreso Puerto")]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.headerEntryDate,expression:"headerEntryDate"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e.headerEntryDate},on:{input:function(t){t.target.composing||(e.headerEntryDate=t.target.value)}}})]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.headerEntryHour,expression:"headerEntryHour"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e.headerEntryHour},on:{input:function(t){t.target.composing||(e.headerEntryHour=t.target.value)}}})])])]),t("div",{staticClass:"col"},[t("div",{staticClass:"row"},[t("label",{staticClass:"mb-2 text-black fw-bold"},[e._v("Tipo Camión")]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.headerTruckType,expression:"headerTruckType"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e.headerTruckType},on:{input:function(t){t.target.composing||(e.headerTruckType=t.target.value)}}})])])])])]),t("section",[t("div",{staticClass:"row mt-1"},[t("h4",{staticClass:"text-center text-black fw-bold"},[e._v(" Información de Movimientos ")]),t("div",{staticClass:"col"},[t("div",{staticClass:"row"},[t("label",{staticClass:"mb-2 text-black fw-bold"},[e._v("Num. Registro")]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.movementRegistryNumber,expression:"movementRegistryNumber"}],staticClass:"form-control",attrs:{type:"number",readonly:""},domProps:{value:e.movementRegistryNumber},on:{change:e.getWeightData,input:function(t){t.target.composing||(e.movementRegistryNumber=t.target.value)}}})])])])]),t("div",{staticClass:"row mt-1"},[t("div",{staticClass:"col"},[t("div",{staticClass:"row"},[t("label",{staticClass:"mb-2 text-black fw-bold"},[e._v("Peso Entrada")]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.movementEntryWeight,expression:"movementEntryWeight"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e.movementEntryWeight},on:{input:function(t){t.target.composing||(e.movementEntryWeight=t.target.value)}}})])])]),t("div",{staticClass:"col"},[t("div",{staticClass:"row"},[t("label",{staticClass:"mb-2 text-black fw-bold"},[e._v("Tiempo Entrada")]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.movementEntryDate,expression:"movementEntryDate"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e.movementEntryDate},on:{input:function(t){t.target.composing||(e.movementEntryDate=t.target.value)}}})]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.movementEntryDate,expression:"movementEntryDate"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e.movementEntryDate},on:{input:function(t){t.target.composing||(e.movementEntryDate=t.target.value)}}})])])]),t("div",{staticClass:"col"},[t("div",{staticClass:"row"},[t("label",{staticClass:"mb-2 text-black fw-bold"},[e._v("Bascula Entrada")]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.movementEntryBascName,expression:"movementEntryBascName"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e.movementEntryBascName},on:{input:function(t){t.target.composing||(e.movementEntryBascName=t.target.value)}}})]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.movementEntryBascNumber,expression:"movementEntryBascNumber"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e.movementEntryBascNumber},on:{input:function(t){t.target.composing||(e.movementEntryBascNumber=t.target.value)}}})])])]),t("div",{staticClass:"col"},[t("div",{staticClass:"row"},[t("label",{staticClass:"mb-2 text-black fw-bold"},[e._v("Boleta Entrada")]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.movementEntryBoleta,expression:"movementEntryBoleta"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e.movementEntryBoleta},on:{input:function(t){t.target.composing||(e.movementEntryBoleta=t.target.value)}}})])])]),t("div",{staticClass:"col"},[t("div",{staticClass:"row"},[t("label",{staticClass:"mb-2 text-black fw-bold"},[e._v("Ticket Entrada")]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.movementEntryTicket,expression:"movementEntryTicket"}],staticClass:"form-control writeable",attrs:{type:"text"},domProps:{value:e.movementEntryTicket},on:{input:function(t){t.target.composing||(e.movementEntryTicket=t.target.value)}}})])])])]),t("div",{staticClass:"row mt-1 border-bottom pb-2"},[t("div",{staticClass:"col"},[t("div",{staticClass:"row"},[t("label",{staticClass:"mb-2 text-black fw-bold"},[e._v("Peso Salida")]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.movementExitWeight,expression:"movementExitWeight"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e.movementExitWeight},on:{input:function(t){t.target.composing||(e.movementExitWeight=t.target.value)}}})])])]),t("div",{staticClass:"col"},[t("div",{staticClass:"row"},[t("label",{staticClass:"mb-2 text-black fw-bold"},[e._v("Tiempo Salida")]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.movementExitDate,expression:"movementExitDate"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e.movementExitDate},on:{input:function(t){t.target.composing||(e.movementExitDate=t.target.value)}}})]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.movementExitDate,expression:"movementExitDate"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e.movementExitDate},on:{input:function(t){t.target.composing||(e.movementExitDate=t.target.value)}}})])])]),t("div",{staticClass:"col"},[t("div",{staticClass:"row"},[t("label",{staticClass:"mb-2 text-black fw-bold"},[e._v("Bascula Salida")]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.movementExitBascName,expression:"movementExitBascName"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e.movementExitBascName},on:{input:function(t){t.target.composing||(e.movementExitBascName=t.target.value)}}})]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.movementExitBascNumber,expression:"movementExitBascNumber"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e.movementExitBascNumber},on:{input:function(t){t.target.composing||(e.movementExitBascNumber=t.target.value)}}})])])]),t("div",{staticClass:"col"},[t("div",{staticClass:"row"},[t("label",{staticClass:"mb-2 text-black fw-bold"},[e._v("Boleta Salida")]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.movementExitBoleta,expression:"movementExitBoleta"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e.movementExitBoleta},on:{input:function(t){t.target.composing||(e.movementExitBoleta=t.target.value)}}})])])]),t("div",{staticClass:"col"},[t("div",{staticClass:"row"},[t("label",{staticClass:"mb-2 text-black fw-bold"},[e._v("Ticket Salida")]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.movementExitTicket,expression:"movementExitTicket"}],staticClass:"form-control writeable",attrs:{type:"text"},domProps:{value:e.movementExitTicket},on:{input:function(t){t.target.composing||(e.movementExitTicket=t.target.value)}}})])])])])]),t("section",[t("div",{staticClass:"row mt-1"},[t("h4",{staticClass:"text-center text-black fw-bold"},[e._v(" Información de Contenedor ")]),t("div",{staticClass:"col"},[t("div",{staticClass:"row"},[t("label",{staticClass:"mb-2 text-black fw-bold"},[e._v("Num. de Contenedor")]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.containerNumber,expression:"containerNumber"}],staticClass:"form-control writeable",attrs:{type:"text",tabindex:"2",disabled:e.isLoading},domProps:{value:e.containerNumber},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.checkAppointment.apply(null,arguments)},change:e.checkAppointment,input:function(t){t.target.composing||(e.containerNumber=t.target.value)}}})])])]),t("div",{staticClass:"col"},[t("div",{staticClass:"row"},[t("label",{staticClass:"mb-2 text-black fw-bold"},[e._v("Peso Tara")]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.containerTaraWeight,expression:"containerTaraWeight"}],staticClass:"form-control writeable",attrs:{type:"text",tabindex:"3",disabled:e.isLoading},domProps:{value:e.containerTaraWeight},on:{input:function(t){t.target.composing||(e.containerTaraWeight=t.target.value)}}})])])])]),t("div",{staticClass:"row mt-1"},[t("div",{staticClass:"col"},[t("div",{staticClass:"row"},[t("label",{staticClass:"mb-2 text-black fw-bold"},[e._v("Peso Neto Carga")]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.calculatedContainerNetWeight,expression:"calculatedContainerNetWeight"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e.calculatedContainerNetWeight},on:{input:function(t){t.target.composing||(e.calculatedContainerNetWeight=t.target.value)}}})])])]),t("div",{staticClass:"col"},[t("div",{staticClass:"row"},[t("label",{staticClass:"mb-2 text-black fw-bold"},[e._v("Buque")]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.containerShip,expression:"containerShip"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e.containerShip},on:{input:function(t){t.target.composing||(e.containerShip=t.target.value)}}})])])])]),t("div",{staticClass:"row mt-1 border-bottom pb-2"},[t("div",{staticClass:"col"},[t("div",{staticClass:"row"},[t("label",{staticClass:"mb-2 text-black fw-bold"},[e._v("Tipo de Carga")]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.containerLoadType,expression:"containerLoadType"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e.containerLoadType},on:{input:function(t){t.target.composing||(e.containerLoadType=t.target.value)}}})])])]),t("div",{staticClass:"col"},[t("div",{staticClass:"row"},[t("label",{staticClass:"mb-2 text-black fw-bold"},[e._v("Observaciones")]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.containerObservations,expression:"containerObservations"}],staticClass:"form-control writeable",attrs:{type:"text",tabindex:"4",disabled:e.isLoading},domProps:{value:e.containerObservations},on:{input:function(t){t.target.composing||(e.containerObservations=t.target.value)}}})])])])])]),t("section",[t("div",{staticClass:"row mt-1"},[t("h4",{staticClass:"text-center text-black fw-bold"},[e._v("Información de Poliza")]),t("div",{staticClass:"col"},[t("div",{staticClass:"row"},[t("label",{staticClass:"mb-2 text-black fw-bold"},[e._v("DUCA")]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.policyDucaNumber,expression:"policyDucaNumber"}],staticClass:"form-control writeable",attrs:{type:"text",disabled:e.isLoading},domProps:{value:e.policyDucaNumber},on:{change:e.getDucaAndPolicyData,input:function(t){t.target.composing||(e.policyDucaNumber=t.target.value)}}})])])]),t("div",{staticClass:"col"},[t("div",{staticClass:"row"},[t("label",{staticClass:"mb-2 text-black fw-bold"},[e._v("No. BL")]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.policyBlNumber,expression:"policyBlNumber"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e.policyBlNumber},on:{input:function(t){t.target.composing||(e.policyBlNumber=t.target.value)}}})])])])]),t("div",{staticClass:"row mt-1"},[t("div",{staticClass:"col"},[t("div",{staticClass:"row"},[t("label",{staticClass:"mb-2 text-black fw-bold"},[e._v("Consignatario")]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.policyCosignee,expression:"policyCosignee"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e.policyCosignee},on:{input:function(t){t.target.composing||(e.policyCosignee=t.target.value)}}})])])]),t("div",{staticClass:"col"},[t("div",{staticClass:"row"},[t("label",{staticClass:"mb-2 text-black fw-bold"},[e._v("Manifiesto")]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.policyManifest,expression:"policyManifest"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e.policyManifest},on:{input:function(t){t.target.composing||(e.policyManifest=t.target.value)}}})])])])]),t("div",{staticClass:"row mt-1"},[t("div",{staticClass:"col"},[t("div",{staticClass:"row"},[t("label",{staticClass:"mb-2 text-black fw-bold"},[e._v("Poliza")]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.policyNumber,expression:"policyNumber"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e.policyNumber},on:{input:function(t){t.target.composing||(e.policyNumber=t.target.value)}}})])])]),t("div",{staticClass:"col"},[t("div",{staticClass:"row"},[t("label",{staticClass:"mb-2 text-black fw-bold"},[e._v("Peso")]),t("div",{staticClass:"col"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.policyWeight,expression:"policyWeight"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:e.policyWeight},on:{input:function(t){t.target.composing||(e.policyWeight=t.target.value)}}})])])])])]),t("div",{staticClass:"row text-center mt-4 justify-content-center gap-3 overflow-auto p-2"},[t("div",{staticClass:"btn-group",attrs:{role:"group"}},[t("button",{staticClass:"btn btn-lg btn-primary",attrs:{type:"button",disabled:!e.isGoBackARegistryNumberPossible},on:{click:e.gotoFirstRegistryNumber}},[e._v(" Primero ")]),t("button",{staticClass:"btn btn-lg btn-primary",attrs:{type:"button",disabled:!e.isGoBackARegistryNumberPossible},on:{click:e.goBackARegistryNumber}},[e._v(" Anterior ")]),t("button",{staticClass:"btn btn-lg btn-primary",attrs:{type:"button"},on:{click:e.goUpARegistryNumber}},[e._v(" Siguiente ")]),t("button",{staticClass:"btn btn-lg btn-primary",attrs:{type:"button"},on:{click:function(t){return e.getHeaderAndWeightData(!1)}}},[e._v(" Ultimo ")])]),t("div",{staticClass:"btn-group",attrs:{role:"group"}},[t("button",{staticClass:"btn btn-warning btn-lg",attrs:{type:"button"},on:{click:e.resetData}},[e._v(" Limpiar ")]),t("button",{staticClass:"btn btn-success btn-lg",attrs:{type:"button"}},[e._v("Guardar")]),t("button",{staticClass:"btn btn-info btn-lg",attrs:{type:"button"},on:{click:e.checkWeight}},[e._v(" Pesar ")]),t("button",{staticClass:"btn btn-info btn-lg",attrs:{type:"button"},on:{click:e.checkAppointment}},[e._v(" Verificar Cita ")])])])])},K=[],Y={weight({basculaNumber:e}){return c.A.get(`${l}/pesar?bascula=${e}`)}},Q={data:()=>({isLoading:!1,lastCycle:1,VGM:"",headerCycle:null,headerCycleDate:null,headerCompany:null,headerLicenseNumber:null,headerLicenseCountry:null,headerPilot:null,headerPlateCountry:null,headerPlateNumber:null,headerObservation:null,headerTruckType:null,headerEntryDate:null,headerEntryHour:null,movementRegistryNumber:1,movementEntryWeight:null,movementExitWeight:null,movementEntryDate:null,movementEntryTime:null,movementExitDate:null,movementExitTime:null,movementEntryBascName:null,movementEntryBascNumber:null,movementExitBascName:null,movementExitBascNumber:null,movementEntryBoleta:null,movementExitBoleta:null,movementEntryTicket:null,movementExitTicket:null,containerNumber:null,containerTaraWeight:null,containerLoadNetWeight:null,containerShip:null,containerLoadType:null,containerObservations:null,policyDucaNumber:null,policyBlNumber:null,policyCosignee:null,policyManifest:null,policyNumber:null,policyWeight:null}),methods:{checkObject(e){return e&&"object"===typeof e&&Object.keys(e).length>0},resetData(){this.isLoading=!1,this.lastCycle=1,this.headerCycle=null,this.headerCycleDate=null,this.headerCompany=null,this.headerLicenseNumber=null,this.headerLicenseCountry=null,this.headerPilot=null,this.headerPlateCountry=null,this.headerPlateNumber=null,this.headerObservation=null,this.headerTruckType=null,this.headerEntryDate=null,this.headerEntryHour=null,this.movementRegistryNumber=1,this.movementEntryWeight=null,this.movementExitWeight=null,this.movementEntryDate=null,this.movementEntryTime=null,this.movementExitDate=null,this.movementExitTime=null,this.movementEntryBascName=null,this.movementEntryBascNumber=null,this.movementExitBascName=null,this.movementExitBascNumber=null,this.movementEntryBoleta=null,this.movementExitBoleta=null,this.movementEntryTicket=null,this.movementExitTicket=null,this.containerNumber=null,this.containerTaraWeight=null,this.containerLoadNetWeight=null,this.containerShip=null,this.containerLoadType=null,this.containerObservations=null,this.policyDucaNumber=null,this.policyBlNumber=null,this.policyCosignee=null,this.policyManifest=null,this.policyNumber=null,this.policyWeight=null},setHeaderData({FECHA_CICLO:e,PAIS_LICENCIA:t,NUMERO_LICENCIA:a,PAIS_PLACA:i,NUMERO_PLACA:o,OBSERVACION_CICLO:n,FECHA_INGRESO:r,TIPO_CAMION:s,NOMBRE_PILOTO:l,NOMBRE_TRANSPORTISTA:c}){const m=H(e),u=H(r);this.headerCycleDate=m["DATE"],this.headerLicenseCountry=t,this.headerLicenseNumber=a,this.headerCompany=c,this.headerPilot=l,this.headerPlateCountry=i,this.headerPlateNumber=o,this.headerObservation=n,this.headerEntryDate=u["DATE"],this.headerEntryHour=u["TIME"],this.headerTruckType=s},setMovementData({PESO_ENTRADA:e,BASCULA_PESO_ENTRADA:t,EMPRESA_PESO_ENTRADA:a,FECHA_PESO_ENTRADA:i,BOLETA_PESO_ENTRADA:o,TICKET_FAC1:n,PESO_SALIDA:r,BASCULA_PESO_SALIDA:s,EMPRESA_PESO_SALIDA:l,FECHA_PESO_SALIDA:c,BOLETA_PESO_SALIDA:m,REGISTROS:u,TICKET_FAC2:d,VGM:v}){const p=H(i),g=H(c);this.movementEntryWeight=e,this.movementExitWeight=r,this.movementEntryDate=p["DATE"],this.movementEntryTime=p["TIME"],this.movementExitDate=g["DATE"],this.movementExitTime=g["TIME"],this.movementEntryBascName=a,this.movementEntryBascNumber=t,this.movementExitBascName=l,this.movementExitBascNumber=s,this.movementEntryBoleta=o,this.movementExitBoleta=m,this.movementEntryTicket=n,this.movementExitTicket=d,this.lastCycle=Number.parseInt(u),this.VGM=v},setContainerData({NUMERO_CONTENEDOR:e,PESO_TARA_CONTE:t,OBSERVACION:a,INDICADOR_TABLA:i}){this.containerNumber=e,this.containerTaraWeight=t,this.containerObservations=a,this.containerLoadType=i},setPolicyData({POLIZA:e,NUMERO_MANIFIESTO:t,CONSIGNATARIO:a,PESO:i}){this.policyNumber=e,this.policyManifest=t,this.policyCosignee=a,this.policyCosignee=a,this.policyWeight=i},setBlNumber({BL:e}){this.policyBlNumber=e},setNewWeightData(){const{weightDirection:e}=this;console.log("weightDirection",e)},getNewWeightData(){},async getCycle(){if(this.isCycleNumberSet){const{headerCycle:t}=this;try{const{data:e}=await j.getCycle({cycle:t}),{TIPO_RESPUESTA:a}=e;if("01"===a["RESULTADO"]){const{PARAMETROS_SALIDA:t}=e;return t}return await p("Advertencia",a["DESCRIPCION"],"warning"),null}catch(e){return await p("Error",e,"error",3e3,!1),console.error(e),null}}},async getWeightData(){if(this.isCycleNumberAndRegistryNumberSet){const{headerCycle:t,movementRegistryNumber:a}=this;try{const{data:e}=await j.getWeightData({cycle:t,registryNumber:a}),{TIPO_RESPUESTA:i}=e;if("01"===i["RESULTADO"]){const{PARAMETROS_SALIDA:t}=e;return t}return await p("Advertencia",i["DESCRIPCION"],"warning"),null}catch(e){return await p("Error",e,"error",3e3,!1),console.error(e),null}}},async getPolicyData(){if(this.isCycleNumberAndBlNumberSet){const{headerCycle:t,policyBlNumber:a}=this;try{const{data:e}=await j.getPolicy({cycle:t,bl:a}),{TIPO_RESPUESTA:i}=e;if("01"===i["RESULTADO"]){const{PARAMETROS_SALIDA:t}=e;return t}return await p("Advertencia",i["DESCRIPCION"],"warning"),null}catch(e){return await p("Error",e,"error",3e3,!1),console.error(e),null}}},async getDucaData(){if(this.isDucaSet){const{policyDucaNumber:t}=this;try{const{data:e}=await j.getBL({duca:t}),{TIPO_RESPUESTA:a}=e;if("01"===a["RESULTADO"]){const{PARAMETROS_SALIDA:t}=e;return t}return await p("Advertencia",a["DESCRIPCION"],"warning"),null}catch(e){return await p("Error",e,"error",3e3,!1),console.error(e),null}}},async getHeaderAndWeightData(e=!0,t=!0){this.isLoading=!0;const{getCycle:a,getWeightData:i}=this,{setHeaderData:o,setContainerData:n,setMovementData:r}=this,{checkRegistryNumber:s,checkObject:l}=this;try{if(e){await g("Atención, recopilando información de ciclo","warning");const e=await a();if(!l(e))return await p("Advertencia",`Numero de ciclo ${this.headerCycle}, no valido, abortando`,"warning"),void this.resetData();o(e)}else await g(`Atención, saltando recopilación de datos de encabezado de ciclo ${this.headerCycle}`,"warning");let c=await i();if(!l(c))return await p("Advertencia",`No se encontro información de pesajes, movimientos o contenedor con ciclo ${this.headerCycle}, abortando`,"warning"),void this.resetData();n(c),r(c),t&&s()&&(await g(`Atención, numero de registro ${this.movementRegistryNumber}, ya contiene pesajes de salida y entrada, pasando al ultimo registro disponible, registro ${this.lastCycle}`,"warning"),this.movementRegistryNumber=this.lastCycle,c=await i(),n(c),r(c)),await g("Recopilación de datos de ciclo exitoso!","success")}catch(c){await p("Error",c,"error",3e3,!1),console.error(c)}finally{this.isLoading=!1}},async getDucaAndPolicyData(){this.isLoading=!0;const{getDucaData:e,getPolicyData:t}=this,{setBlNumber:a,setPolicyData:i}=this,{checkObject:o}=this;try{await g("Atención, recopilando numero de BL","warning");const n=await e();if(!o(n))return void await p("Advertencia",`Numero de duca ${this.policyDucaNumber}, no valido, abortando`,"warning");a(n),await g(`Atención, recopilando datos de poliza con numero de BL ${this.policyBlNumber}`,"warning");let r=await t();if(!o(r))return await p("Advertencia","No se encontro información de poliza, abortando","warning"),void this.setBlNumber({BL:null});i(r),await g("Recopilación de datos de poliza exitoso!","success")}catch(n){await p("Error",n,"error",3e3,!1),console.error(n)}finally{this.isLoading=!1}},async policyDataHandler(){this.isLoading=!0;const{getPolicyData:e}=this,{setPolicyData:t}=this;try{await g("Atención, recopilando información de poliza","warning");const a=await e();t(a),await g("Recopilación de datos de ciclo exitoso!","success")}catch(a){await p("Error",a,"error",3e3,!1),console.error(a)}finally{this.isLoading=!1}},async getAppointment(){if(this.isContainerNumberSet){const{containerNumber:t}=this;try{const{data:e}=await j.getAppointment({containerNumber:t}),{TIPO_RESPUESTA:a}=e;if("01"===a["RESULTADO"]){const{PARAMETROS_SALIDA:t}=e;return t}return await p("Advertencia",a["DESCRIPCION"],"warning"),null}catch(e){return await p("Error",e,"error",3e3,!1),console.error(e),null}}else await p("Advertencia","La cita no se pudo verificar por falta de numero de contenedor, por favor ingreselo","warning")},async checkAppointment(){this.isLoading=!0;const{getAppointment:e}=this,{checkObject:t}=this;try{await g("Atención, confirmando cita de contenedor","warning");const a=await e();if(!t(a)||!a["CITA"]&&!a["PESOS"])return void(this.isContainerNumberSet&&await g(`Cita de contenedor no encontrada ${this.containerNumber}, proceda`,"success"));await p("Advertencia",`Cita de contenedor encontrada ${this.containerNumber}, información de cita ${a["CITA"]}, pesos ${a["PESOS"]}`,"warning")}catch(a){await p("Error",a,"error",3e3,!1),console.error(a)}finally{this.isLoading=!1}},async getCorrelative(){const e=localStorage.getItem("bascula");try{const{data:t}=await j.getCorrelative({basculaNumber:e,companyNumber:25}),{TIPO_RESPUESTA:a}=t;if("01"===a["RESULTADO"]){const{PARAMETROS_SALIDA:e}=t;return e}return await p("Advertencia",a["DESCRIPCION"],"warning"),null}catch(t){return await p("Error",t,"error",3e3,!1),console.error(t),null}},checkRegistryNumber(){return 1!==this.lastCycle},goBackARegistryNumber(){this.movementRegistryNumber=this.movementRegistryNumber-1,this.getHeaderAndWeightData(!1,!1)},gotoFirstRegistryNumber(){this.movementRegistryNumber=1,this.getHeaderAndWeightData(!1,!1)},goUpARegistryNumber(){this.movementRegistryNumber=this.movementRegistryNumber+1,this.getHeaderAndWeightData(!1,!1)},async checkWeight(){try{const e=localStorage.getItem("bascula"),{data:t}=await Y.weight({basculaNumber:e}),[a,i]=t.split("-");if(a){const e=(Number.parseFloat(a)/1e3).toFixed(3),{isConfirmed:t}=await v(`Peso ${e}`,"Confirmar Peso","warning","Confirmar","Volver A Pesar");if(t){const e=await this.getCorrelative();console.log("correlative",e),this.setNewWeightData()}else this.checkWeight()}else await p("ERROR AL LEER PESO","Error al Leer Peso, Intente de Nuevamente","error")}catch(e){console.error("Error in checkWeight:",e),await p("ERROR","An unexpected error occurred","error")}},async createCycleRegistry(){this.isLoading=!0;const{checkObject:e}=this,{allInputData:t}=this;try{await g("Atención, ingresando ciclo en base de datos local","warning")}catch(a){await p("Error",a,"error",3e3,!1),console.error(a)}finally{this.isLoading=!1}}},computed:{isCycleNumberSet(){return!!this.headerCycle},isCycleNumberAndBlNumberSet(){return this.headerCycle&&this.policyBlNumber},isCycleNumberAndRegistryNumberSet(){return this.headerCycle&&this.movementRegistryNumber},isContainerNumberSet(){return!!this.containerNumber},isDucaSet(){return this.policyDucaNumber},isGoBackARegistryNumberPossible(){return this.movementRegistryNumber>1},weightDirection(){const{movementEntryWeight:e,movementExitWeight:t}=this;return"0"===e?"ENTRADA":"0"===t?"SALIDA":"NINGUNO"},calculatedContainerNetWeight(){return this.movementExitWeight&&this.movementEntryWeight&&this.containerTaraWeight?(Number.parseFloat(this.movementExitWeight)-(Number.parseFloat(this.movementEntryWeight)+Number.parseFloat(this.containerTaraWeight))).toFixed(2):null},allInputData(){const{headerCycle:e,headerCycleDate:t,headerCompany:a,headerLicenseNumber:i,headerLicenseCountry:o,headerPilot:n,headerPlateCountry:r,headerPlateNumber:s,headerObservation:l,headerTruckType:c,headerEntryDate:m,headerEntryHour:u,movementRegistryNumber:d,movementEntryWeight:v,movementExitWeight:p,movementEntryDate:g,movementEntryTime:y,movementExitDate:h,movementExitTime:b,movementEntryBascName:C,movementEntryBascNumber:f,movementExitBascName:w,movementExitBascNumber:E,movementEntryBoleta:N,movementExitBoleta:x,movementEntryTicket:A,movementExitTicket:_,containerNumber:D,containerTaraWeight:T,containerLoadNetWeight:P,containerShip:S,containerLoadType:k,containerObservations:O,policyDucaNumber:B,policyBlNumber:R,policyCosignee:L,policyManifest:W,policyNumber:I,policyWeight:$}=this;return{headerCycle:e,headerCycleDate:t,headerCompany:a,headerLicenseNumber:i,headerLicenseCountry:o,headerPilot:n,headerPlateCountry:r,headerPlateNumber:s,headerObservation:l,headerTruckType:c,headerEntryDate:m,headerEntryHour:u,movementRegistryNumber:d,movementEntryWeight:v,movementExitWeight:p,movementEntryDate:g,movementEntryTime:y,movementExitDate:h,movementExitTime:b,movementEntryBascName:C,movementEntryBascNumber:f,movementExitBascName:w,movementExitBascNumber:E,movementEntryBoleta:N,movementExitBoleta:x,movementEntryTicket:A,movementExitTicket:_,containerNumber:D,containerTaraWeight:T,containerLoadNetWeight:P,containerShip:S,containerLoadType:k,containerObservations:O,policyDucaNumber:B,policyBlNumber:R,policyCosignee:L,policyManifest:W,policyNumber:I,policyWeight:$}}}},Z=Q,J=(0,b.A)(Z,q,K,!1,null,"533b8ab0",null),X=J.exports,ee=a(6178);i.Ay.use(ee.Ay);var te=new ee.Ay({mode:"hash",routes:[{path:"/",name:"Home",component:I},{path:"/pesaje",name:"Weighting",component:X},{path:"/anular-pesaje",name:"NullWeight",component:z}]});i.Ay.config.productionTip=!1,new i.Ay({render:e=>e(S),router:te}).$mount("#app")}},t={};function a(i){var o=t[i];if(void 0!==o)return o.exports;var n=t[i]={exports:{}};return e[i].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,i,o,n){if(!i){var r=1/0;for(m=0;m<e.length;m++){i=e[m][0],o=e[m][1],n=e[m][2];for(var s=!0,l=0;l<i.length;l++)(!1&n||r>=n)&&Object.keys(a.O).every((function(e){return a.O[e](i[l])}))?i.splice(l--,1):(s=!1,n<r&&(r=n));if(s){e.splice(m--,1);var c=o();void 0!==c&&(t=c)}}return t}n=n||0;for(var m=e.length;m>0&&e[m-1][2]>n;m--)e[m]=e[m-1];e[m]=[i,o,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,i){var o,n,r=i[0],s=i[1],l=i[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(o in s)a.o(s,o)&&(a.m[o]=s[o]);if(l)var m=l(a)}for(t&&t(i);c<r.length;c++)n=r[c],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(m)},i=self["webpackChunkbasculaspq"]=self["webpackChunkbasculaspq"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=a.O(void 0,[504],(function(){return a(9335)}));i=a.O(i)})();
//# sourceMappingURL=app.34f0a8fd.js.map