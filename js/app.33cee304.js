(function(){"use strict";var t={936:function(t,e,a){var i=a(2856),o=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[t.isLoggedIn?e("NavBar",{on:{logout:t.logout}},[e("div",{staticClass:"content"},[e("router-view")],1)]):e("div",{staticClass:"content"},[e("LoginView",{on:{logged:t.navigate}})],1)],1)},s=[],n=(a(4114),function(){var t=this,e=t._self._c;return e("div",{staticClass:"login-container shadow"},[t._m(0),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label"},[t._v("Usuario")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label"},[t._v("Contraseña")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.password},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)},input:function(e){e.target.composing||(t.password=e.target.value)}}})]),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label"},[t._v("Bascula")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.bascula,expression:"bascula"}],staticClass:"form-control",attrs:{type:"text"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)},change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.bascula=e.target.multiple?a:a[0]},t.login]}},[e("option",{attrs:{value:"0",selected:""}},[t._v("Seleccionar Opción")]),e("option",{attrs:{value:"1"}},[t._v("Bascula 1")]),e("option",{attrs:{value:"2"}},[t._v("Bascula 2")]),e("option",{attrs:{value:"3"}},[t._v("Bascula 3")]),e("option",{attrs:{value:"4"}},[t._v("Bascula 4")]),e("option",{attrs:{value:"5"}},[t._v("Bascula 5")]),e("option",{attrs:{value:"6"}},[t._v("Bascula 6")]),e("option",{attrs:{value:"7"}},[t._v("Bascula 7")])])]),e("div",{staticClass:"text-center"},[e("button",{staticClass:"btn btn-success btn-lg",attrs:{type:"button"},on:{click:t.login}},[t._v(" Acceder ")])])])}),r=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-auto p-3"},[e("img",{attrs:{src:"/icono-neporsa.jpg",alt:"Icono de Neporsa"}})])}];const l="http://192.168.3.51:5000",c="http://192.168.3.53:8000";var m=a(417),u={login({username:t,password:e}){return m.A.get(`${l}/login?username=${t}&password=${e}`)}},d=a(1554),v=a.n(d);const p=async(t,e,a="warning",i="Confirm",o="Cancel",s=null)=>await v().fire({title:t,text:e,icon:a,showCancelButton:!0,html:s,confirmButtonText:i,cancelButtonText:o,customClass:{title:"swal2-title"}}),g=async(t,e,a="success",i=4e3,o=!0)=>await v().fire({title:t,html:e,icon:a,showConfirmButton:!1,allowOutsideClick:o,timer:i}),y=async(t,e="success",a=2e3)=>await v().fire({title:t,icon:e,showConfirmButton:!1,timer:a,toast:!0,position:"top-right"});var h={data:()=>({username:"",password:"",bascula:0}),methods:{async test(){await g("Exito","Ingresado con exito","success")},async login(){try{if(this.isFormFilled){const{username:t,password:e,bascula:a}=this;await u.login({username:t,password:e}),localStorage.setItem("username",t),localStorage.setItem("password",e),localStorage.setItem("bascula",a),await g("Exito","Ingresado con exito","success"),this.$emit("logged")}else await g("Advertencia","Por favor llenar el formulario","warning",3e3,!1)}catch(t){await g("Error",t,"error",3e3,!1),console.error(t)}}},computed:{isFormFilled(){return this.username&&this.password&&0!==this.bascula}}},b=h,C=a(1656),E=(0,C.A)(b,n,r,!1,null,null,null),w=E.exports,x=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mt-2",staticStyle:{width:"100vw"}},[e("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light shadow rounded"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"d-flex justify-content-center align-items-center"},[e("img",{staticStyle:{"max-height":"3rem"},attrs:{src:"/favicon.png",alt:""}}),e("router-link",{staticClass:"navbar-brand ms-2",staticStyle:{cursor:"pointer"},attrs:{tag:"a",to:"/"}},[t._v("PQ Pesajes")])],1),t._m(0),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNav"}},[e("ul",{staticClass:"navbar-nav"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/reporte"}},[t._v("Reporte")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/pesaje"}},[t._v("Pesaje")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/anular-pesaje"}},[t._v("Anulación de Pesaje")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/ticket"}},[t._v("Generacion de Ticket")])],1)]),e("li",{staticClass:"nav-item text-danger ms-auto my-2",staticStyle:{"list-style-type":"none"}},[e("div",{staticClass:"nav-link",staticStyle:{cursor:"pointer"},on:{click:t.logoutHandle}},[t._v(" Cerrar Sesión ")])])])])]),t._t("default")],2)},N=[function(){var t=this,e=t._self._c;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])}],f={methods:{logoutHandle(){console.log("logout handle"),this.$emit("logout")}}},T=f,A=(0,C.A)(T,x,N,!1,null,null,null),D=A.exports,R={name:"App",components:{LoginView:w,NavBar:D},data:()=>({isLoggedIn:!1}),methods:{async logout(){try{console.log("init logout"),localStorage.setItem("username",void 0),localStorage.setItem("password",void 0),await g("Exito","Sesión cerrada con exito","success"),this.$router.push("/"),this.isLoggedIn=!1,console.log("end logout")}catch(t){await g("Error",t,"error",3e3,!1),console.error(t)}},navigate(){this.isLoggedIn=!0}}},_=R,P=(0,C.A)(_,o,s,!1,null,null,null),S=P.exports,O=(a(766),function(){var t=this,e=t._self._c;return e("div",[t._v("En construccion")])}),k=[],I={dailyWeights({to:t,from:e,username:a,password:i}){return m.A.get(`${l}/get-daily-weights?to=${t}&from=${e}&username=${a}&password=${i}`)}},B={methods:{async getDailyWeights(){try{const t=new Date,e=-6,a=new Date(t.getTime()+60*e*60*1e3),i=new Date(a);i.setDate(i.getDate()-1);const o=this.transformDate(a),s=this.transformDate(i),n=localStorage.getItem("username"),r=localStorage.getItem("password"),{data:l}=await I.dailyWeights({to:o,from:s,username:n,password:r});console.log("Daily Weights",l)}catch(t){console.error(t)}},transformDate(t){const e=String(t.getDate()).padStart(2,"0"),a=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getFullYear()).slice(-2),o=`${e}/${a}/${i}`;return o}},mounted(){this.getDailyWeights()}},L=B,$=(0,C.A)(L,O,k,!1,null,null,null),W=$.exports,M=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg-white p-3 m-3 rounded shadow"},[e("section",[e("h3",{staticClass:"text-center text-dark fw-bold"},[t._v("Anulación de Pesajes")]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("label",{staticClass:"text-dark m-2 fw-bold"},[t._v("Ciclo")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.nullCycle,expression:"nullCycle"}],staticClass:"form-control",attrs:{type:"text",disabled:t.isLoading},domProps:{value:t.nullCycle},on:{input:function(e){e.target.composing||(t.nullCycle=e.target.value)}}})]),e("div",{staticClass:"col"},[e("label",{staticClass:"text-dark m-2 fw-bold"},[t._v("Fecha Ciclo")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.nullCycleDate,expression:"nullCycleDate"}],staticClass:"form-control",attrs:{type:"date",disabled:t.isLoading},domProps:{value:t.nullCycleDate},on:{input:function(e){e.target.composing||(t.nullCycleDate=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("label",{staticClass:"text-dark m-2 fw-bold"},[t._v("Carga")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.nullContainerType,expression:"nullContainerType"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.nullContainerType},on:{input:function(e){e.target.composing||(t.nullContainerType=e.target.value)}}})]),e("div",{staticClass:"col"},[e("label",{staticClass:"text-dark m-2 fw-bold"},[t._v("Numero de Registro")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.nullRegistryNumber,expression:"nullRegistryNumber"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.nullRegistryNumber},on:{input:function(e){e.target.composing||(t.nullRegistryNumber=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("label",{staticClass:"text-dark m-2 fw-bold"},[t._v("Tipo de Pesaje")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.nullWeightingType,expression:"nullWeightingType"}],staticClass:"form-control",attrs:{type:"text"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.nullWeightingType=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"E"}},[t._v("Entrada")]),e("option",{attrs:{value:"S"}},[t._v("Salida")])])])])])]),e("div",{staticClass:"m-3 text-center"},[e("button",{staticClass:"btn btn-primary btn-lg me-2",attrs:{type:"button"},on:{click:t.nullWeight}},[t._v(" Anular Pesaje ")]),e("button",{staticClass:"btn btn-danger btn-lg me-2",attrs:{type:"button"},on:{click:t.resetData}},[t._v(" Limpiar ")])])])},U=[];function j(t){const[e,a]=t?t.split(" "):[null,null];return{DATE:e,TIME:a}}function F(t){const{DATE:e,TIME:a}=t;return e&&a?`${e} ${a}`:null}function H(t){const e=new Date(t),a=String(e.getDate()).padStart(2,"0"),i=String(e.getMonth()+1).padStart(2,"0"),o=e.getFullYear(),s=`${a}/${i}/${o} 00:00`;return s}function V(){const t=new Date,e=String(t.getDate()).padStart(2,"0"),a=String(t.getMonth()+1).padStart(2,"0"),i=t.getFullYear();return`${e}/${a}/${i}`}function G(){const t=new Date,e=String(t.getHours()).padStart(2,"0"),a=String(t.getMinutes()).padStart(2,"0"),i=String(t.getSeconds()).padStart(2,"0");return`${e}:${a}:${i}`}var z={getLocalCycle({username:t,password:e,cycle:a,date:i,correlative:o}){return m.A.get(`${l}/get-local-ciclo?username=${t}&password=${e}&numero_ciclo=${a}&fecha=${i}&correlativo=${o}`)},getLocalCycleInNewDB({cycle:t,date:e,correlative:a}){return m.A.get(`${c}/api/get?numero_ciclo=${t}&fecha=${e}&correlativo=${a}`)},getCycle({cycle:t}){return m.A.get(`${l}/get-datos-ciclo?numero_ciclo=${t}`)},nullCycle({nullCycle:t,nullCycleDate:e,nullContainerType:a,nullRegistryNumber:i,nullWeightingType:o,username:s,machine:n}){return m.A.get(`${l}/anular-pesaje?ciclo=${t}&fecha=${e}&usuario_crea=${s}&maquina=${n}&indicador=${a}&numero_registro=${i}&tipo_pesaje=${o}`)},localNullCycle({nullCycle:t,nullCycleDate:e,username:a,password:i}){return m.A.get(`${l}/actualizar-anulado?ciclo=${t}&fecha=${e}\n                &username=${a}&password=${i}`)},getPolicy({cycle:t,bl:e}){return m.A.get(`${l}/get-datos-poliza?numero_ciclo=${t}&bl=${e}`)},getReportEmployees({to:t,from:e,username:a,password:i}){return m.A.get(`${l}/get-excel?to=${t}&from=${e}&username=${a}&password=${i}`,{responseType:"blob"})},getWeightData({cycle:t,registryNumber:e}){return m.A.get(`${l}/get-datos-pesaje?numero_ciclo=${t}&numero_registro=${e}`)},getBL({duca:t}){return m.A.get(`${l}/get-datos-salida?no_duca=${t}`)},getAppointment({containerNumber:t}){return m.A.get(`${l}/get-datos-cita?contenedor=${t}`)},getCorrelative({basculaNumber:t,companyNumber:e}){return m.A.get(`${l}/get-correlativo?empresa=${e}&bascula=${t}`)},createLocalCycleRegistry({username:t,machine:e,weightDirection:a,headerCycle:i,headerCycleDate:o,headerCompany:s,headerLicenseNumber:n,headerLicenseCountry:r,headerPilot:l,headerPlateCountry:u,headerPlateNumber:d,headerObservation:v,headerTruckType:p,headerEntryDate:g,headerEntryHour:y,movementRegistryNumber:h,movementEntryWeight:b,movementExitWeight:C,movementEntryDate:E,movementEntryTime:w,movementExitDate:x,movementExitTime:N,movementEntryBascName:f,movementEntryBascNumber:T,movementExitBascName:A,movementExitBascNumber:D,movementEntryBoleta:R,movementExitBoleta:_,movementEntryTicket:P,movementExitTicket:S,containerNumber:O,containerTaraWeight:k,containerLoadNetWeight:I,containerShip:B,containerLoadType:L,containerObservations:$,policyDucaNumber:W,policyBlNumber:M,policyCosignee:U,policyManifest:j,policyNumber:H,policyWeight:V}){return m.A.post(`${c}/api/pesaje`,{usuario:t,maquina:e,fecha_ciclo:o,num_ciclo:i,no_registro:h,identif_contenedor:O,peso_tara_contened:k,peso_entrada:b,fecha_pesaje_entrada:F({DATE:E,TIME:w}),ticket_entrada:P,bascula_entrada:T,empresa_entrada:f,peso_salida:C,fecha_pesaje_salida:F({DATE:x,TIME:N}),ticket_salida:S,bascula_salida:D,empresa_salida:A,nombre_transportista:s,nombre_piloto:l,cod_pais_piloto:r,numero_licencia_piloto:n,cod_pais_placa:u,numero_placa:d,observacion_ciclo:v,observacion_contenedor:$,tipo_contenedor:L,tipo_operacion:a})},createCycleRegistry({weightDevice:t,headerCycle:e,headerCycleDate:a,movementRegistryNumber:i,weight:o,boleta:s,date:n,weightType:r,machine:c,observation:u,taraWeight:d,ticket:v,containerNumber:p,containerLoadType:g}){return m.A.post(`${l}/ingreso_peso`,{empresa:"NEPORSA",bascula:t,numero:e,fecha_ciclo:a,numero_registro:i,peso:o,boleta:s,fecha:n,tipo_pesaje:r,maquina:c,observacion:u,tara:d,ticket:v,contenedor:p,indicador:g})}},q={weight({basculaNumber:t}){return m.A.get(`${l}/pesar?bascula=${t}`)}},X={data:()=>({isLoading:!1,nullCycle:null,nullCycleDate:null,nullContainerType:null,nullRegistryNumber:null,nullWeightingType:null}),methods:{resetData(){this.nullCycle=null,this.nullCycleDate=null,this.nullContainerType=null,this.nullRegistryNumber=null,this.nullWeightingType=null,this.isLoading=!1},async nullWeight(){if(this.isFormValid){const{nullCycle:e,nullCycleDate:a,nullContainerType:i,nullRegistryNumber:o,nullWeightingType:s}=this,n=localStorage.getItem("username"),r=localStorage.getItem("password"),l=localStorage.getItem("bascula"),{data:c}=await q.weight({basculaNumber:l}),[m,u]=c.split("-"),d=H(a);this.isLoading=!0;try{y("Anulando Pesaje por favor espere","warning");const{data:t}=await z.nullCycle({nullCycle:e,nullCycleDate:d,nullContainerType:i,nullRegistryNumber:o,nullWeightingType:s,username:n,machine:u}),{TIPO_RESPUESTA:a}=t;"01"===a["RESULTADO"]?(await y(`Exito, pesaje ${e} anulado`,"success"),await this.nullLocalWeight({nullCycle:e,formatedCycleDate:d,username:n,password:r})):await g("Advertencia",a["DESCRIPCION"],"warning")}catch(t){await g("Error",t,"error",3e3,!1),console.error(t)}finally{this.isLoading=!1}}else y("Por favor ingrese todos los datos","warning")},async nullLocalWeight({nullCycle:t,formatedCycleDate:e,username:a,password:i}){try{y("Registrando anulación de pesaje en local por favor espere","warning"),await z.localNullCycle({nullCycle:t,nullCycleDate:e,username:a,password:i}),await y(`Exito, anulación de pesaje ${t} registrada`,"success")}catch(o){await y(`Error al registrar anulación de pesaje local ${o}`,"error")}}},computed:{isFormValid(){return!!this.nullCycle&&!!this.nullCycleDate&&!!this.nullContainerType&&!!this.nullRegistryNumber&&!!this.nullWeightingType}}},K=X,Y=(0,C.A)(K,M,U,!1,null,null,null),J=Y.exports,Z=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg-white p-3 m-3 rounded shadow"},[e("section",[e("h3",{staticClass:"text-center text-black fw-bold"},[t._v("Pesaje de Camiones")]),e("div",{staticClass:"row mt-1"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Ciclo")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.headerCycle,expression:"headerCycle"}],staticClass:"form-control writeable",attrs:{type:"text",disabled:t.isLoading,tabindex:"1"},domProps:{value:t.headerCycle},on:{change:t.getHeaderAndWeightData,input:function(e){e.target.composing||(t.headerCycle=e.target.value)}}})]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.headerCycleDate,expression:"headerCycleDate"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.headerCycleDate},on:{input:function(e){e.target.composing||(t.headerCycleDate=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Licencia")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.headerLicenseCountry,expression:"headerLicenseCountry"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.headerLicenseCountry},on:{input:function(e){e.target.composing||(t.headerLicenseCountry=e.target.value)}}})]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.headerLicenseNumber,expression:"headerLicenseNumber"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.headerLicenseNumber},on:{input:function(e){e.target.composing||(t.headerLicenseNumber=e.target.value)}}})])])])]),e("div",{staticClass:"row mt-1"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Transporte")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.headerCompany,expression:"headerCompany"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.headerCompany},on:{input:function(e){e.target.composing||(t.headerCompany=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Piloto")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.headerPilot,expression:"headerPilot"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.headerPilot},on:{input:function(e){e.target.composing||(t.headerPilot=e.target.value)}}})])])])]),e("div",{staticClass:"row mt-1"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Placa")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.headerPlateCountry,expression:"headerPlateCountry"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.headerPlateCountry},on:{input:function(e){e.target.composing||(t.headerPlateCountry=e.target.value)}}})]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.headerPlateNumber,expression:"headerPlateNumber"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.headerPlateNumber},on:{input:function(e){e.target.composing||(t.headerPlateNumber=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Observación")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.headerObservation,expression:"headerObservation"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.headerObservation},on:{input:function(e){e.target.composing||(t.headerObservation=e.target.value)}}})])])])]),e("div",{staticClass:"row mt-1 border-bottom pb-2"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Ingreso Puerto")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.headerEntryDate,expression:"headerEntryDate"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.headerEntryDate},on:{input:function(e){e.target.composing||(t.headerEntryDate=e.target.value)}}})]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.headerEntryHour,expression:"headerEntryHour"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.headerEntryHour},on:{input:function(e){e.target.composing||(t.headerEntryHour=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Tipo Camión")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.headerTruckType,expression:"headerTruckType"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.headerTruckType},on:{input:function(e){e.target.composing||(t.headerTruckType=e.target.value)}}})])])])])]),e("section",[e("div",{staticClass:"row mt-1"},[e("h4",{staticClass:"text-center text-black fw-bold"},[t._v(" Información de Movimientos ")]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Num. Registro")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.movementRegistryNumber,expression:"movementRegistryNumber"}],staticClass:"form-control",attrs:{type:"number",readonly:""},domProps:{value:t.movementRegistryNumber},on:{change:t.getWeightData,input:function(e){e.target.composing||(t.movementRegistryNumber=e.target.value)}}})])])])]),e("div",{staticClass:"row mt-1"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Peso E.")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.movementEntryWeight,expression:"movementEntryWeight"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.movementEntryWeight},on:{input:function(e){e.target.composing||(t.movementEntryWeight=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Fecha E.")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.movementEntryDate,expression:"movementEntryDate"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.movementEntryDate},on:{input:function(e){e.target.composing||(t.movementEntryDate=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Hora E.")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.movementEntryTime,expression:"movementEntryTime"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.movementEntryTime},on:{input:function(e){e.target.composing||(t.movementEntryTime=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Empresa E.")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.movementEntryBascName,expression:"movementEntryBascName"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.movementEntryBascName},on:{input:function(e){e.target.composing||(t.movementEntryBascName=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Bascula E.")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.movementEntryBascNumber,expression:"movementEntryBascNumber"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.movementEntryBascNumber},on:{input:function(e){e.target.composing||(t.movementEntryBascNumber=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Boleta E.")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.movementEntryBoleta,expression:"movementEntryBoleta"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.movementEntryBoleta},on:{input:function(e){e.target.composing||(t.movementEntryBoleta=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Ticket E.")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.movementEntryTicket,expression:"movementEntryTicket"}],staticClass:"form-control writeable",attrs:{type:"text"},domProps:{value:t.movementEntryTicket},on:{input:function(e){e.target.composing||(t.movementEntryTicket=e.target.value)}}})])])])]),e("div",{staticClass:"row mt-1 border-bottom pb-2"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Peso S.")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.movementExitWeight,expression:"movementExitWeight"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.movementExitWeight},on:{input:function(e){e.target.composing||(t.movementExitWeight=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Fecha S.")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.movementExitDate,expression:"movementExitDate"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.movementExitDate},on:{input:function(e){e.target.composing||(t.movementExitDate=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Tiempo S.")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.movementExitTime,expression:"movementExitTime"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.movementExitTime},on:{input:function(e){e.target.composing||(t.movementExitTime=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Empresa S.")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.movementExitBascName,expression:"movementExitBascName"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.movementExitBascName},on:{input:function(e){e.target.composing||(t.movementExitBascName=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Bascula S.")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.movementExitBascNumber,expression:"movementExitBascNumber"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.movementExitBascNumber},on:{input:function(e){e.target.composing||(t.movementExitBascNumber=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Boleta S.")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.movementExitBoleta,expression:"movementExitBoleta"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.movementExitBoleta},on:{input:function(e){e.target.composing||(t.movementExitBoleta=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Ticket S.")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.movementExitTicket,expression:"movementExitTicket"}],staticClass:"form-control writeable",attrs:{type:"text"},domProps:{value:t.movementExitTicket},on:{input:function(e){e.target.composing||(t.movementExitTicket=e.target.value)}}})])])])])]),e("section",[e("div",{staticClass:"row mt-1"},[e("h4",{staticClass:"text-center text-black fw-bold"},[t._v(" Información de Contenedor ")]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Num. de Contenedor")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.containerNumber,expression:"containerNumber"}],staticClass:"form-control writeable",attrs:{type:"text",tabindex:"2",disabled:t.isLoading},domProps:{value:t.containerNumber},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.checkAppointment.apply(null,arguments)},change:t.checkAppointment,input:function(e){e.target.composing||(t.containerNumber=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Peso Tara")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.containerTaraWeight,expression:"containerTaraWeight"}],staticClass:"form-control writeable",attrs:{type:"text",tabindex:"3",disabled:t.isLoading},domProps:{value:t.containerTaraWeight},on:{input:function(e){e.target.composing||(t.containerTaraWeight=e.target.value)}}})])])])]),e("div",{staticClass:"row mt-1"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Peso Neto Carga")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.calculatedContainerNetWeight,expression:"calculatedContainerNetWeight"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.calculatedContainerNetWeight},on:{input:function(e){e.target.composing||(t.calculatedContainerNetWeight=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Buque")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.containerShip,expression:"containerShip"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.containerShip},on:{input:function(e){e.target.composing||(t.containerShip=e.target.value)}}})])])])]),e("div",{staticClass:"row mt-1 border-bottom pb-2"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Tipo de Carga")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.containerLoadType,expression:"containerLoadType"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.containerLoadType},on:{input:function(e){e.target.composing||(t.containerLoadType=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Observaciones")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.containerObservations,expression:"containerObservations"}],staticClass:"form-control writeable",attrs:{type:"text",tabindex:"4",disabled:t.isLoading},domProps:{value:t.containerObservations},on:{input:function(e){e.target.composing||(t.containerObservations=e.target.value)}}})])])])])]),e("section",[e("div",{staticClass:"row mt-1"},[e("h4",{staticClass:"text-center text-black fw-bold"},[t._v("Información de Poliza")]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("DUCA")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.policyDucaNumber,expression:"policyDucaNumber"}],staticClass:"form-control writeable",attrs:{type:"text",disabled:t.isLoading},domProps:{value:t.policyDucaNumber},on:{change:t.getDucaAndPolicyData,input:function(e){e.target.composing||(t.policyDucaNumber=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("No. BL")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.policyBlNumber,expression:"policyBlNumber"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.policyBlNumber},on:{input:function(e){e.target.composing||(t.policyBlNumber=e.target.value)}}})])])])]),e("div",{staticClass:"row mt-1"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Consignatario")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.policyCosignee,expression:"policyCosignee"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.policyCosignee},on:{input:function(e){e.target.composing||(t.policyCosignee=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Manifiesto")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.policyManifest,expression:"policyManifest"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.policyManifest},on:{input:function(e){e.target.composing||(t.policyManifest=e.target.value)}}})])])])]),e("div",{staticClass:"row mt-1"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Poliza")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.policyNumber,expression:"policyNumber"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.policyNumber},on:{input:function(e){e.target.composing||(t.policyNumber=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Peso")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.policyWeight,expression:"policyWeight"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.policyWeight},on:{input:function(e){e.target.composing||(t.policyWeight=e.target.value)}}})])])])])]),e("div",{staticClass:"row text-center mt-4 justify-content-center gap-3 p-2"},[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("button",{staticClass:"btn btn-lg btn-primary",attrs:{type:"button",disabled:!t.isGoBackARegistryNumberPossible},on:{click:t.gotoFirstRegistryNumber}},[t._v(" Primero ")]),e("button",{staticClass:"btn btn-lg btn-primary",attrs:{type:"button",disabled:!t.isGoBackARegistryNumberPossible},on:{click:t.goBackARegistryNumber}},[t._v(" Anterior ")]),e("button",{staticClass:"btn btn-lg btn-primary",attrs:{type:"button",disabled:t.isLoading},on:{click:t.goUpARegistryNumber}},[t._v(" Siguiente ")]),e("button",{staticClass:"btn btn-lg btn-primary",attrs:{type:"button",disabled:t.isLoading},on:{click:function(e){return t.getHeaderAndWeightData(!1)}}},[t._v(" Ultimo ")])]),e("div",{staticClass:"btn-group",attrs:{role:"group"}}),e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("button",{staticClass:"btn btn-warning btn-lg",attrs:{type:"button",disabled:t.isLoading},on:{click:t.resetData}},[t._v(" Limpiar ")]),e("button",{staticClass:"btn btn-success btn-lg",attrs:{type:"button"},on:{click:t.createCycleRegistry}},[t._v(" Guardar ")]),e("div",{staticClass:"btn-group",staticStyle:{width:"33%"}},[e("button",{staticClass:"btn btn-info btn-lg dropdown-toggle",attrs:{type:"button",disabled:t.isLoading},on:{click:function(e){t.actionsMenuActive=!t.actionsMenuActive}}},[t._v(" Opciones ")]),e("div",{class:`dropdown-menu actions-menu ${t.actionsMenuActive?"show":null}`},[e("a",{staticClass:"dropdown-item actions-menu-item",staticStyle:{cursor:"pointer"},on:{click:t.checkWeight}},[t._v("Pesar")]),e("a",{staticClass:"dropdown-item actions-menu-item",staticStyle:{cursor:"pointer"},on:{click:t.checkAppointment}},[t._v("Verificar Cita")]),e("a",{staticClass:"dropdown-item actions-menu-item",staticStyle:{cursor:"pointer"},on:{click:t.streamTicket}},[t._v("Imprimir Ticket")])])])])])])},Q=[];const tt={timeZone:"UTC"},et=t=>{let e=new Date(t);return e.setUTCHours(12,0,0,0),new Date(e.getFullYear(),e.getMonth(),e.getDate()).toLocaleDateString("es",tt)},at=({username:t,weightDirection:e,correlative:a,VGM:i,headerCycle:o,headerCycleDate:s,headerCompany:n,headerLicenseNumber:r,headerLicenseCountry:l,headerPilot:c,headerPlateCountry:m,headerPlateNumber:u,headerObservation:d,movementRegistryNumber:v,movementEntryWeight:p,movementExitWeight:g,movementEntryDate:y,movementEntryTime:h,movementExitDate:b,movementEntryBascName:C,movementEntryBascNumber:E,movementExitBascNumber:w,movementEntryTicket:x,movementExitTicket:N,containerNumber:f,containerTaraWeight:T},A)=>{const D=new Date,R=[{text:"NEPORSA",style:"header"},{text:"NIT:813288-7",style:"header"},{text:"\n",style:""},{text:"FECHA DE IMPRESION",style:"bodyText"},{text:D.toLocaleString("es",tt),style:"bodyText"},{text:"OPERADOR BASCULA",style:"bodyText"},{text:t,style:"bodyText"},{text:"\n",style:""}],_=[{text:"DATOS TRANSPORTE",style:"header"},{text:"NUMERO DE CICLO",style:"bodyText"},{text:`${s} ${o}`,style:"bodyText"},{text:"LICENCIA PILOTO",style:"bodyText"},{text:`${l} ${r}`,style:"bodyText"},{text:"NOMBRE PILOTO",style:"bodyText"},{text:c,style:"bodyText"},{text:"PLACAS VEHICULO",style:"bodyText"},{text:`${m} ${u}`,style:"bodyText"},{text:"TRANSPORTISTA",style:"bodyText"},{text:n,style:"bodyText"},{text:"OBSERVACIONES",style:"bodyText"},{text:d,style:"bodyText"}],P=[{text:"DATOS PESAJE",style:"header"},{text:`REGISTRO ${v}`,style:"bodyText"},{text:"NUMERO DE CONTENEDOR",style:"bodyText"},{text:f,style:"bodyText"},{text:"\n",style:""},{text:"PESAJE ENTRADA",style:"header"},{text:"NUMERO DE BOLETA",style:"bodyText"},{text:`${a}-${(new Date).getFullYear()}`,style:"bodyText"},{text:"FECHA PESAJE",style:"bodyText"},{text:`${y} ${h}`,style:"bodyText"},{text:`BASCULA: ${E}`,style:"bodyText"},{text:`EMPRESA: ${C}`,style:"bodyText"},{text:`TICKET: ${x}`,style:"bodyText"},{text:"\n",style:""},{text:"\n",style:""},{text:`ENTRADA: ${p}`,style:"header"},{text:`TARA: ${T}`,style:"header"}],S=[...R,{text:"..........................................",style:"header"},..._,{text:"..........................................",style:"header"},...P,{text:"------------------------------------",style:"header"},{text:"Corte con cuidado esta sección",style:"subheader"},{text:"------------------------------------",style:"header"},...R,{text:"------------------------------------",style:"header"},..._,{text:"..........................................",style:"header"},...P,{text:"\n",style:""},{text:"\n",style:""},{text:`ENTRADA: ${p}`,style:"header"},{text:"CERTIFICADO: BRM-CC-42473/19",style:"header"},{text:"BRM-CC-42473/19",style:"header"},{text:`VGM: ${i} Kg`,style:"header"},{text:"\n",style:""}],O=[...R,{text:"..........................................",style:"header"},..._,{text:"..........................................",style:"header"},...P,{text:"------------------------------------",style:"header"},{text:"Corte con cuidado esta sección",style:"subheader"},{text:"------------------------------------",style:"header"},...R,{text:"------------------------------------",style:"header"},..._,{text:"..........................................",style:"header"},...P,{text:"PESAJE DE SALIDA",style:"header"},{text:"NUMERO DE BOLETA",style:"bodyText"},{text:`${N}-${(new Date).getFullYear()}`,style:"bodyText"},{text:"FECHA PESAJE",style:"bodyText"},{text:`${et(b)} `,style:"bodyText"},{text:`BASCULA: ${w}`,style:"bodyText"},{text:"TICKET: --",style:"bodyText"},{text:"\n",style:""},{text:"\n",style:""},{text:`ENTRADA: ${p} TM`,style:"header"},{text:`SALIDA: ${g} TM`,style:"header"},{text:`TARA: ${T} TM`,style:"header"},{text:`NETO: ${(parseFloat(p)-(parseFloat(g)+parseFloat(T))).toFixed(3)}TM`,style:"header"},{text:"CERTIFICADO: BRM-CC-42473/19",style:"header"},{text:`VGM: ${i} Kg`,style:"header"},{text:"\n",style:""}];return"ENTRADA"===e?S:O};var it={data:()=>({isLoading:!1,lastCycle:1,VGM:"",weightDirection:null,actionsMenuActive:!1,headerCycle:null,headerCycleDate:null,headerCompany:null,headerLicenseNumber:null,headerLicenseCountry:null,headerPilot:null,headerPlateCountry:null,headerPlateNumber:null,headerObservation:null,headerTruckType:null,headerEntryDate:null,headerEntryHour:null,movementRegistryNumber:1,movementEntryWeight:null,movementExitWeight:null,movementEntryDate:null,movementEntryTime:null,movementExitDate:null,movementExitTime:null,movementEntryBascName:null,movementEntryBascNumber:null,movementExitBascName:null,movementExitBascNumber:null,movementEntryBoleta:null,movementExitBoleta:null,movementEntryTicket:null,movementExitTicket:null,containerNumber:null,containerTaraWeight:null,containerLoadNetWeight:null,containerShip:null,containerLoadType:null,containerObservations:null,policyDucaNumber:null,policyBlNumber:null,policyCosignee:null,policyManifest:null,policyNumber:null,policyWeight:null}),methods:{checkObject(t){return t&&"object"===typeof t&&Object.keys(t).length>0},resetData(){this.isLoading=!1,this.lastCycle=1,this.headerCycle=null,this.headerCycleDate=null,this.headerCompany=null,this.headerLicenseNumber=null,this.headerLicenseCountry=null,this.headerPilot=null,this.headerPlateCountry=null,this.headerPlateNumber=null,this.headerObservation=null,this.headerTruckType=null,this.headerEntryDate=null,this.headerEntryHour=null,this.movementRegistryNumber=1,this.movementEntryWeight=null,this.movementExitWeight=null,this.movementEntryDate=null,this.movementEntryTime=null,this.movementExitDate=null,this.movementExitTime=null,this.movementEntryBascName=null,this.movementEntryBascNumber=null,this.movementExitBascName=null,this.movementExitBascNumber=null,this.movementEntryBoleta=null,this.movementExitBoleta=null,this.movementEntryTicket=null,this.movementExitTicket=null,this.containerNumber=null,this.containerTaraWeight=null,this.containerLoadNetWeight=null,this.containerShip=null,this.containerLoadType=null,this.containerObservations=null,this.policyDucaNumber=null,this.policyBlNumber=null,this.policyCosignee=null,this.policyManifest=null,this.policyNumber=null,this.policyWeight=null},setHeaderData({FECHA_CICLO:t,PAIS_LICENCIA:e,NUMERO_LICENCIA:a,PAIS_PLACA:i,NUMERO_PLACA:o,OBSERVACION_CICLO:s,FECHA_INGRESO:n,TIPO_CAMION:r,NOMBRE_PILOTO:l,NOMBRE_TRANSPORTISTA:c}){const m=j(t),u=j(n);this.headerCycleDate=m["DATE"],this.headerLicenseCountry=e,this.headerLicenseNumber=a,this.headerCompany=c,this.headerPilot=l,this.headerPlateCountry=i,this.headerPlateNumber=o,this.headerObservation=s,this.headerEntryDate=u["DATE"],this.headerEntryHour=u["TIME"],this.headerTruckType=r},setMovementData({PESO_ENTRADA:t,BASCULA_PESO_ENTRADA:e,EMPRESA_PESO_ENTRADA:a,FECHA_PESO_ENTRADA:i,BOLETA_PESO_ENTRADA:o,TICKET_FAC1:s,PESO_SALIDA:n,BASCULA_PESO_SALIDA:r,EMPRESA_PESO_SALIDA:l,FECHA_PESO_SALIDA:c,BOLETA_PESO_SALIDA:m,REGISTROS:u,TICKET_FAC2:d,VGM:v}){const p=j(i),g=j(c);this.movementEntryWeight=t,this.movementExitWeight=n,this.movementEntryDate=p["DATE"],this.movementEntryTime=p["TIME"],this.movementExitDate=g["DATE"],this.movementExitTime=g["TIME"],this.movementEntryBascName=a,this.movementEntryBascNumber=e,this.movementExitBascName=l,this.movementExitBascNumber=r,this.movementEntryBoleta=o,this.movementExitBoleta=m,this.movementEntryTicket=s,this.movementExitTicket=d,this.lastCycle=Number.parseInt(u),this.VGM=v},setContainerData({NUMERO_CONTENEDOR:t,PESO_TARA_CONTE:e,OBSERVACION:a,INDICADOR_TABLA:i}){this.containerNumber=t,this.containerTaraWeight=e,this.containerObservations=a,this.containerLoadType=i},setPolicyData({POLIZA:t,NUMERO_MANIFIESTO:e,CONSIGNATARIO:a,PESO:i}){this.policyNumber=t,this.policyManifest=e,this.policyCosignee=a,this.policyCosignee=a,this.policyWeight=i},setBlNumber({BL:t}){this.policyBlNumber=t},setNewWeightData(t,e){const{weightDirection:a}=this,i=localStorage.getItem("bascula");if("ENTRADA"===a)this.movementEntryBascName="NEPORSA",this.movementEntryBascNumber=i,this.movementEntryBoleta=e,this.movementEntryDate=V(),this.movementEntryTime=G(),this.movementEntryWeight=t;else{if("SALIDA"!==a)return new Error("No se ha detectado dirección de peso correcta");this.movementExitBascName="NEPORSA",this.movementExitBascNumber=i,this.movementExitBoleta=e,this.movementExitDate=V(),this.movementExitTime=G(),this.movementExitWeight=t}},getNewWeightData(){const{weightDirection:t}=this,e=localStorage.getItem("maquina");return"ENTRADA"===t?{bascula:this.movementEntryBascName,basculaNumber:this.movementEntryBascNumber,boletaNumber:this.movementEntryBoleta,date:this.movementEntryDate,time:this.movementEntryTime,weight:this.movementEntryWeight,machine:e,registryNumber:this.movementRegistryNumber,weightType:t,observation:this.containerObservations,tara:this.containerTaraWeight,ticket:this.movementEntryTicket,container:this.containerNumber}:"SALIDA"===t?{bascula:this.movementExitBascName,basculaNumber:this.movementExitBascNumber,boletaNumber:this.movementExitBoleta,date:this.movementExitDate,time:this.movementExitTime,weight:this.movementExitWeight,machine:e,registryNumber:this.movementRegistryNumber,weightType:t,observation:this.containerObservations,tara:this.containerTaraWeight,ticket:this.movementExitTicket,container:this.containerNumber}:new Error("No se ha detectado dirección de peso correcta")},async getCycle(){if(this.isCycleNumberSet){const{headerCycle:e}=this;try{const{data:t}=await z.getCycle({cycle:e}),{TIPO_RESPUESTA:a}=t;if("01"===a["RESULTADO"]){const{PARAMETROS_SALIDA:e}=t;return e}return await g("ERROR PORTUARIA:",a["DESCRIPCION"],"warning"),null}catch(t){return await g("Error",t,"error",3e3,!1),console.error(t),null}}},async getWeightData(){if(this.isCycleNumberAndRegistryNumberSet){const{headerCycle:e,movementRegistryNumber:a}=this;try{const{data:t}=await z.getWeightData({cycle:e,registryNumber:a}),{TIPO_RESPUESTA:i}=t;if("01"===i["RESULTADO"]){const{PARAMETROS_SALIDA:e}=t;return e}return await g("ERROR PORTUARIA:",i["DESCRIPCION"],"warning"),null}catch(t){return await g("Error",t,"error",3e3,!1),console.error(t),null}}},async getPolicyData(){if(this.isCycleNumberAndBlNumberSet){const{headerCycle:e,policyBlNumber:a}=this;try{const{data:t}=await z.getPolicy({cycle:e,bl:a}),{TIPO_RESPUESTA:i}=t;if("01"===i["RESULTADO"]){const{PARAMETROS_SALIDA:e}=t;return e}return await g("ERROR PORTUARIA:",i["DESCRIPCION"],"warning"),null}catch(t){return await g("Error",t,"error",3e3,!1),console.error(t),null}}},async getDucaData(){if(this.isDucaSet){const{policyDucaNumber:e}=this;try{const{data:t}=await z.getBL({duca:e}),{TIPO_RESPUESTA:a}=t;if("01"===a["RESULTADO"]){const{PARAMETROS_SALIDA:e}=t;return e}return await g("ERROR PORTUARIA:",a["DESCRIPCION"],"warning"),null}catch(t){return await g("Error",t,"error",3e3,!1),console.error(t),null}}},async getHeaderAndWeightData(t=!0,e=!0){this.isLoading=!0;const{getCycle:a,getWeightData:i}=this,{setHeaderData:o,setContainerData:s,setMovementData:n}=this,{checkRegistryNumber:r,checkObject:l}=this;try{if(await y("PROCESO: Inicia recuperacion de datos de peso y ciclo","warning"),t){await y("DATOS: Recuperando de datos de ciclo","warning");const t=await a();if(!l(t))return await g("ERROR:",`Numero de ciclo ${this.headerCycle}, no valido`,"warning"),void this.resetData();o(t)}else await y(`VALIDACIÓN: Datos de ciclo ${this.headerCycle}, ya se encuentran recuperados`,"warning");let c=await i();if(!l(c))return await g("ERROR:",`No se encontro información de pesajes, movimientos o contenedor con ciclo ${this.headerCycle}, abortando`,"warning"),void this.resetData();s(c),n(c),e&&r()&&(await y(`VALIDACIÓN: Numero de registro ${this.movementRegistryNumber}, ya contiene pesajes de salida y entrada, pasando al ultimo registro disponible, registro ${this.lastCycle}`,"warning"),this.movementRegistryNumber=this.lastCycle,c=await i(),s(c),n(c)),await y("EXITO: Recopilación de datos de ciclo exitoso!","success"),await y("DATOS: Recopilando información de peso","warning"),await this.checkWeight()}catch(c){await g("ERROR:",c,"error",3e3,!1),console.error(c)}finally{this.isLoading=!1}},async getDucaAndPolicyData(){this.isLoading=!0;const{getDucaData:t,getPolicyData:e}=this,{setBlNumber:a,setPolicyData:i}=this,{checkObject:o}=this;try{await y("PROCESO: Recopilando datos de poliza","warning"),await y("DATOS: Recuperando numero de BL","warning");const s=await t();if(!o(s))return void await g("DATOS:",`Numero de duca ${this.policyDucaNumber}, no valido, abortando`,"warning");a(s),await y(`DATOS: Recuperando datos de poliza ${this.policyBlNumber}`,"warning");let n=await e();if(!o(n))return await g("ERROR:","No se encontro información de poliza, abortando","warning"),void this.setBlNumber({BL:null});i(n),await y("EXITO: Recopilación de datos de poliza exitoso!","success")}catch(s){await g("ERROR:",s,"error",3e3,!1),console.error(s)}finally{this.isLoading=!1}},async policyDataHandler(){this.isLoading=!0;const{getPolicyData:t}=this,{setPolicyData:e}=this;try{await y("PROCESO: Recopilando información de poliza","warning");const a=await t();e(a),await y("EXITO: Recuperacion de datos de ciclo exitoso!","success")}catch(a){await g("Error",a,"error",3e3,!1),console.error(a)}finally{this.isLoading=!1}},async getAppointment(){if(this.isContainerNumberSet){const{containerNumber:e}=this;try{const{data:t}=await z.getAppointment({containerNumber:e}),{TIPO_RESPUESTA:a}=t;if("01"===a["RESULTADO"]){const{PARAMETROS_SALIDA:e}=t;return e}return await g("ERROR PORTUARIA:",a["DESCRIPCION"],"warning"),null}catch(t){return await g("Error",t,"error",3e3,!1),console.error(t),null}}else await g("VALIDACION:","La cita no se pudo verificar por falta de numero de contenedor, por favor ingreselo","warning")},async checkAppointment(){this.isLoading=!0;const{getAppointment:t}=this,{checkObject:e}=this;try{await y("PROCESO: confirmando cita de contenedor","warning");const a=await t();if(!e(a)||!a["CITA"]&&!a["PESOS"])return void(this.isContainerNumberSet&&await y(`EXITO: Cita de contenedor no encontrada ${this.containerNumber}, proceda`,"success"));await g("VALIDACION:",`Cita de contenedor encontrada ${this.containerNumber}, información de cita ${a["CITA"]}, pesos ${a["PESOS"]}`,"warning")}catch(a){await g("Error",a,"error",3e3,!1),console.error(a)}finally{this.isLoading=!1}},async getCorrelative(){const t=localStorage.getItem("bascula");try{const{data:e}=await z.getCorrelative({basculaNumber:t,companyNumber:25}),{TIPO_RESPUESTA:a}=e;if("01"===a["RESULTADO"]){const{PARAMETROS_SALIDA:t}=e;return t}return await g("ERROR PORTUARIA:",a["DESCRIPCION"],"warning"),null}catch(e){return await g("Error",e,"error",3e3,!1),console.error(e),null}},checkRegistryNumber(){return 1!==this.lastCycle},goBackARegistryNumber(){this.movementRegistryNumber=this.movementRegistryNumber-1,this.getHeaderAndWeightData(!1,!1)},gotoFirstRegistryNumber(){this.movementRegistryNumber=1,this.getHeaderAndWeightData(!1,!1)},goUpARegistryNumber(){this.movementRegistryNumber=this.movementRegistryNumber+1,this.getHeaderAndWeightData(!1,!1)},async checkWeight(){this.isLoading=!0;try{const t=localStorage.getItem("bascula"),e=localStorage.getItem("username"),{data:a}=await q.weight({basculaNumber:t}),[i,o]=a.split("-");if(localStorage.setItem("maquina",o),i){const a=(Number.parseFloat(i)/1e3).toFixed(3),{isConfirmed:s}=await p(`Peso ${a}`,"Confirmar Peso","warning","Confirmar","Volver A Pesar");if(s){const{CORRELATIVO:i}=await this.getCorrelative();await y("PROCESO: Recopilando información de nuevo registro de peso","warning"),this.setWeightDirection(),this.setNewWeightData(a,i);const s=await this.confirmNewCycleWeightRegistryData();if(s){await z.createLocalCycleRegistry({machine:o,username:e,...this.$data}),await y("EXITO: Registro de peso en local exitoso!","success"),await y("PROCESO: Atención, enviando información de ciclo a Portuaria","warning");const{weightDirection:a}=this,i=this.getNewWeightData(),s=await z.createCycleRegistry({weightDevice:t,weight:i.weight,boleta:i.boletaNumber,date:i.date,weightType:"SALIDA"==a?"S":"E",machine:o,observation:i.observation,taraWeight:i.tara,ticket:i.ticket,containerNumber:i.container,...this.$data}),{TIPO_RESPUESTA:n}=s;"01"===n["RESULTADO"]?await y("EXITO: Registro de peso en portuaria exitoso!","success"):await g("ERROR PORTUARIA:",n["DESCRIPCION"],"warning")}else this.cleanNewWeightData()}else this.checkWeight()}else await g("ERROR:","Error al Leer Peso, Intente de Nuevamente","error")}catch(t){this.isLoading=!1,console.error("Error in checkWeight:",t),await g("ERROR:",t,"error")}finally{this.isLoading=!1}},async createCycleRegistry(){this.isLoading=!0;try{await y("PROCESO: Ingresando ciclo en base de datos local","warning");const t=localStorage.getItem("username"),e=localStorage.getItem("maquina"),a=localStorage.getItem("bascula"),{weightDirection:i}=this,o=this.getNewWeightData(),{data:s}=await z.createLocalCycleRegistry({machine:e,username:t,...this.$data});await y("EXITO: Registro de peso en local exitoso!","success"),await y("PROCESO: Atención, ingresando ciclo en base de datos portuaria","warning");const n=await z.createCycleRegistry({weightDevice:a,weight:o.weight,boleta:o.boletaNumber,date:o.date,weightType:"SALIDA"==i?"S":"E",machine:e,observation:o.observation,taraWeight:o.tara,ticket:o.ticket,containerNumber:o.container,...this.$data}),{TIPO_RESPUESTA:r}=n;"01"===r["RESULTADO"]?await y("EXITO: Registro de peso en portuaria exitoso!","success"):await g("ERROR PORTUARIA:",r["DESCRIPCION"],"warning")}catch(t){await g("ERROR",t,"error",3e3,!1),console.error(t)}finally{this.isLoading=!1}},async confirmNewCycleWeightRegistryData(){const t=this.getNewWeightData(),e=`\n              <p><strong>Bascula:</strong> ${t.bascula||""}</p>\n              <p><strong>Número de Bascula:</strong> ${t.basculaNumber||""}</p>\n              <p><strong>Número de Boleta:</strong> ${t.boletaNumber||""}</p>\n              <p><strong>Fecha:</strong> ${t.date||""}</p>\n              <p><strong>Hora:</strong> ${t.time||""}</p>\n              <p><strong>Peso:</strong> ${t.weight||""}</p>\n              <p><strong>Computadora:</strong> ${t.machine||""}</p>\n              <p><strong>Numero de Registro:</strong> ${t.registryNumber||""}</p>\n              <p><strong>Tipo de Pesaje:</strong> ${t.weightType||""}</p>\n              <p><strong>Observación:</strong> ${t.observation||""}</p>\n              <p><strong>Tara:</strong> ${t.tara||""}</p>\n              <p><strong>Ticket:</strong> ${t.ticket||""}</p>\n              <p><strong>Contenedor:</strong> ${t.container||""}</p>\n            `,{isConfirmed:a}=await p("Confirmar los siguientes datos a guardar",null,"warning","Guardar","Cancelar",e);return a},cleanNewWeightData(){const{weightDirection:t}=this;if("ENTRADA"===t)this.movementEntryBascName=null,this.movementEntryBascNumber=null,this.movementEntryBoleta=null,this.movementEntryDate=null,this.movementEntryTime=null,this.movementEntryWeight=null;else{if("SALIDA"!==t)return new Error("No se ha detectado dirección de peso correcta");this.movementExitBascName=null,this.movementExitBascNumber=null,this.movementExitBoleta=null,this.movementExitDate=null,this.movementExitTime=null,this.movementExitWeight=null}},setWeightDirection(){const{movementEntryWeight:t,movementExitWeight:e}=this;this.weightDirection="0"===t?"ENTRADA":"0"===e?"SALIDA":"NINGUNO"},async streamTicket(){const{weightDirection:t}=this;if("NINGUNO"!==t)try{await y(`PROCESO: Atención, generando ticket ${t}`,"warning");const e=at(this.$data);console.log("ticket data :",e)}catch(e){return await g("ERROR:",e,"error",3e3,!1),console.error(e),null}else await y("VALIDACION: Por favor ingrese un peso primero","error")}},computed:{isCycleNumberSet(){return!!this.headerCycle},getWeight(){const{weightDirection:t}=this;return"ENTRADA"===t?this.movementEntryWeight:this.movementExitWeight},getBoleta(){const{weightDirection:t}=this;return"ENTRADA"===t?this.movementEntryBoleta:this.movementExitBoleta},isCycleNumberAndBlNumberSet(){return this.headerCycle&&this.policyBlNumber},isCycleNumberAndRegistryNumberSet(){return this.headerCycle&&this.movementRegistryNumber},isContainerNumberSet(){return!!this.containerNumber},isDucaSet(){return this.policyDucaNumber},isGoBackARegistryNumberPossible(){return!this.isLoading||this.movementRegistryNumber>1},calculatedContainerNetWeight(){return this.movementExitWeight&&this.movementEntryWeight&&this.containerTaraWeight?(Number.parseFloat(this.movementExitWeight)-(Number.parseFloat(this.movementEntryWeight)+Number.parseFloat(this.containerTaraWeight))).toFixed(2):null},allInputData(){const{headerCycle:t,headerCycleDate:e,headerCompany:a,headerLicenseNumber:i,headerLicenseCountry:o,headerPilot:s,headerPlateCountry:n,headerPlateNumber:r,headerObservation:l,headerTruckType:c,headerEntryDate:m,headerEntryHour:u,movementRegistryNumber:d,movementEntryWeight:v,movementExitWeight:p,movementEntryDate:g,movementEntryTime:y,movementExitDate:h,movementExitTime:b,movementEntryBascName:C,movementEntryBascNumber:E,movementExitBascName:w,movementExitBascNumber:x,movementEntryBoleta:N,movementExitBoleta:f,movementEntryTicket:T,movementExitTicket:A,containerNumber:D,containerTaraWeight:R,containerLoadNetWeight:_,containerShip:P,containerLoadType:S,containerObservations:O,policyDucaNumber:k,policyBlNumber:I,policyCosignee:B,policyManifest:L,policyNumber:$,policyWeight:W}=this;return{headerCycle:t,headerCycleDate:e,headerCompany:a,headerLicenseNumber:i,headerLicenseCountry:o,headerPilot:s,headerPlateCountry:n,headerPlateNumber:r,headerObservation:l,headerTruckType:c,headerEntryDate:m,headerEntryHour:u,movementRegistryNumber:d,movementEntryWeight:v,movementExitWeight:p,movementEntryDate:g,movementEntryTime:y,movementExitDate:h,movementExitTime:b,movementEntryBascName:C,movementEntryBascNumber:E,movementExitBascName:w,movementExitBascNumber:x,movementEntryBoleta:N,movementExitBoleta:f,movementEntryTicket:T,movementExitTicket:A,containerNumber:D,containerTaraWeight:R,containerLoadNetWeight:_,containerShip:P,containerLoadType:S,containerObservations:O,policyDucaNumber:k,policyBlNumber:I,policyCosignee:B,policyManifest:L,policyNumber:$,policyWeight:W}}}},ot=it,st=(0,C.A)(ot,Z,Q,!1,null,"30c916c8",null),nt=st.exports,rt=a(1594),lt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg-secondary p-3 m-3 rounded"},[e("h3",{staticClass:"text-center text-white fw-bold"},[t._v("Generación de Reporte")]),e("div",{staticClass:"row mt-1"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-white fw-bold"},[t._v("Desde")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.from,expression:"from"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.from},on:{input:function(e){e.target.composing||(t.from=e.target.value)}}})]),e("label",{staticClass:"mb-2 text-white fw-bold"},[t._v("Hacias")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.to,expression:"to"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.to},on:{input:function(e){e.target.composing||(t.to=e.target.value)}}})])])])]),e("div",{staticClass:"m-3 text-center"},[e("button",{staticClass:"btn btn-primary btn-lg me-2",attrs:{type:"button"},on:{click:t.getEmployeesReport}},[t._v(" Generar Reporte ")]),e("button",{staticClass:"btn btn-danger btn-lg me-2",attrs:{type:"button"},on:{click:t.goBack}},[t._v(" Regresar ")])])])},ct=[],mt=(a(4603),a(7566),a(8721),{data:()=>({from:null,to:null,toParsed:null,fromParsed:null}),watch:{from(t){this.fromParsed=this.transformDate(t)},to(t){this.toParsed=this.transformDate(t)}},methods:{goBack(){this.$emit("goBack")},async getEmployeesReport(){try{const t=localStorage.getItem("username"),e=localStorage.getItem("password"),{fromParsed:a,toParsed:i}=this,o=await z.getReportEmployees({to:i,from:a,username:t,password:e}),s=window.URL.createObjectURL(new Blob([o.data])),n=document.createElement("a");n.href=s,n.setAttribute("download","data.xlsx"),n.click(),n.remove()}catch(t){await g("Error",t,"error",3e3,!1),console.error(t)}},transformDate(t){const[e,a,i]=t.split("-"),o=e.slice(-2),s=`${i}/${a}/${o}`;return s}}}),ut=mt,dt=(0,C.A)(ut,lt,ct,!1,null,null,null),vt=dt.exports,pt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg-white p-3 m-3 rounded"},[e("h3",{staticClass:"text-center text-dark fw-bold"},[t._v("Impresión de Boleta DUCA")]),e("div",{staticClass:"row mt-1"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-dark fw-bold"},[t._v("Ciclo")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.cycle,expression:"cycle"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.cycle},on:{input:function(e){e.target.composing||(t.cycle=e.target.value)}}})]),e("label",{staticClass:"mb-2 text-dark fw-bold"},[t._v("Numero de Registro")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.correlative,expression:"correlative"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.correlative},on:{input:function(e){e.target.composing||(t.correlative=e.target.value)}}})])]),e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-dark fw-bold"},[t._v("Fecha")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.date,expression:"date"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.date},on:{input:function(e){e.target.composing||(t.date=e.target.value)}}})])])])]),e("div",{staticClass:"m-3 text-center"},[e("button",{staticClass:"btn btn-primary btn-lg me-2",attrs:{type:"button"},on:{click:t.getCycleData}},[t._v(" Verificar ")]),e("button",{staticClass:"btn btn-danger btn-lg me-2",attrs:{type:"button"},on:{click:t.goBack}},[t._v(" Regresar ")])])])},gt=[],yt={data:()=>({date:null,cycle:null,correlative:null}),methods:{goBack(){this.$emit("goBack")},async getCycleData(){try{const{date:t,cycle:e,correlative:a,transformDate:i,printPDF:o}=this,s=i(t),{data:n}=await z.getLocalCycleInNewDB({date:s,cycle:e,correlative:a});console.log("data from axios",n);const r=n["pesaje"];await g("Exito","Ingresado con exito","success");const l="";o(r,l)}catch(t){await g("Error",t,"error",3e3,!1),console.error(t)}},transformDate(t){const[e,a,i]=t.split("-"),o=e.slice(-2),s=`${i}/${a}/${o}`;return s},printPDF(t,e){const i=localStorage.getItem("username"),o=a(3773),s=a(9661),n=j(t["fecha_pesaje_entrada"]),r=j(t["fecha_pesaje_salida"]),l={username:i,weightDirection:t["tipo_operacion"],correlative:t["no_registro"],VGM:t["vgm"],headerCycle:t["num_ciclo"],headerCycleDate:t["fecha_ciclo"],headerCompany:t["nombre_transportista"],headerLicenseNumber:t["numero_licencia_piloto"],headerLicenseCountry:t["cod_pais_placa"],headerPilot:t["nombre_piloto"],headerPlateCountry:t["cod_pais_placa"],headerPlateNumber:t["numero_placa"],headerObservation:t["observacion_ciclo"],movementRegistryNumber:t["no_registro"],movementEntryWeight:t["peso_entrada"],movementExitWeight:t["peso_salida"],movementEntryDate:n["DATE"],movementEntryTime:n["TIME"],movementExitDate:r["DATE"],movementEntryBascName:t["empresa_entrada"],movementEntryBascNumber:t["bascula_entrada"],movementExitBascNumber:t["bascula_salida"],movementEntryTicket:t["ticket_entrada"],movementExitTicket:t["ticket_salida"],containerNumber:t["identif_contenedor"],containerTaraWeight:t["peso_tara_contened"]};console.log("pdfData",l),o.vfs=s.pdfMake.vfs;const c={pageMargins:[0,0,0,0],content:at(l),styles:{header:{fontSize:14,alignment:"center",bold:!0,margin:[0,0,0,0]},subheader:{fontSize:12,alignment:"center",bold:!0,margin:[0,0,0,0]},spacer:{fontSize:10,bold:!0,alignment:"center",margin:[0,0,0,0]},bodyText:{fontSize:10,alignment:"center",margin:[0,0,0,0]}}};o.createPdf(c).getBlob((t=>{const e=URL.createObjectURL(t);window.open(e)}))}}},ht=yt,bt=(0,C.A)(ht,pt,gt,!1,null,null,null),Ct=bt.exports;i.Ay.use(rt.Ay);var Et=new rt.Ay({mode:"hash",routes:[{path:"/",name:"Home",component:W},{path:"/pesaje",name:"Weighting",component:nt},{path:"/ticket",name:"PrintView",component:Ct},{path:"/anular-pesaje",name:"NullWeight",component:J},{path:"/reporte",name:"ReportView",component:vt}]});i.Ay.config.productionTip=!1,new i.Ay({render:t=>t(S),router:Et}).$mount("#app")}},e={};function a(i){var o=e[i];if(void 0!==o)return o.exports;var s=e[i]={exports:{}};return t[i].call(s.exports,s,s.exports,a),s.exports}a.m=t,function(){var t=[];a.O=function(e,i,o,s){if(!i){var n=1/0;for(m=0;m<t.length;m++){i=t[m][0],o=t[m][1],s=t[m][2];for(var r=!0,l=0;l<i.length;l++)(!1&s||n>=s)&&Object.keys(a.O).every((function(t){return a.O[t](i[l])}))?i.splice(l--,1):(r=!1,s<n&&(n=s));if(r){t.splice(m--,1);var c=o();void 0!==c&&(e=c)}}return e}s=s||0;for(var m=t.length;m>0&&t[m-1][2]>s;m--)t[m]=t[m-1];t[m]=[i,o,s]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var i in e)a.o(e,i)&&!a.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,i){var o,s,n=i[0],r=i[1],l=i[2],c=0;if(n.some((function(e){return 0!==t[e]}))){for(o in r)a.o(r,o)&&(a.m[o]=r[o]);if(l)var m=l(a)}for(e&&e(i);c<n.length;c++)s=n[c],a.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return a.O(m)},i=self["webpackChunkbasculaspq"]=self["webpackChunkbasculaspq"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=a.O(void 0,[504],(function(){return a(936)}));i=a.O(i)})();
//# sourceMappingURL=app.33cee304.js.map