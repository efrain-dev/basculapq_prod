(function(){"use strict";var t={8238:function(t,e,a){var s=a(6848),o=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"content"},[0===t.view?e("LoginView",{on:{logged:function(e){return t.navigate(4)}}}):t._e(),1===t.view?e("WeightingView",{on:{goBack:function(e){return t.navigate(4)}}}):t._e(),2===t.view?e("PrintView",{on:{goBack:function(e){return t.navigate(4)}}}):t._e(),3===t.view?e("NullWeightView",{on:{goBack:function(e){return t.navigate(4)}}}):t._e(),4===t.view?e("LocalMenu",{attrs:{navigationHandle:t.navigate},on:{logout:t.logout}}):t._e()],1)])},l=[],i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex flex-column justify-content-center align-items-center gap-3 m-auto border p-4 rounded bg-white shadow"},[e("h3",{staticClass:"text-center text-dark fw-bold"},[t._v("MENU")]),e("button",{staticClass:"btn btn-lg btn-primary w-100",on:{click:()=>t.navigationHandle(1)}},[t._v(" Pesaje (En Progreso) ")]),e("button",{staticClass:"btn btn-lg btn-primary w-100",on:{click:()=>t.navigationHandle(3)}},[t._v(" Anular Pesaje")]),e("button",{staticClass:"btn btn-lg btn-primary w-100",on:{click:()=>t.navigationHandle(2)}},[t._v(" Generación de Ticket")]),e("button",{staticClass:"btn btn-lg btn-danger w-100",on:{click:t.logoutHandle}},[t._v(" Cerrar Sesión ")])])},n=[],r={props:{navigationHandle:{type:Function,default:()=>({})}},methods:{logoutHandle(){console.log("logout handle"),this.$emit("logout")}}},c=r,d=a(1656),m=(0,d.A)(c,i,n,!1,null,null,null),u=m.exports,y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login-container shadow"},[t._m(0),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label"},[t._v("Usuario")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label"},[t._v("Contraseña")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.password},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)},input:function(e){e.target.composing||(t.password=e.target.value)}}})]),e("div",{staticClass:"text-center"},[e("button",{staticClass:"btn btn-success btn-lg",attrs:{type:"button"},on:{click:t.login}},[t._v(" Acceder ")])])])},v=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-auto p-3"},[e("img",{attrs:{src:"/icono-neporsa.jpg",alt:"Icono de Neporsa"}})])}];const C="http://192.168.3.51:5000";var p=a(4373),b={login({username:t,password:e}){return p.A.get(`${C}/login?username=${t}&password=${e}`)}},g=a(4874),x=a.n(g);const E=async(t,e,a="success",s=4e3,o=!0)=>await x().fire({title:t,html:e,icon:a,showConfirmButton:!1,allowOutsideClick:o,timer:s}),h=async(t,e="success",a=2e3)=>await x().fire({title:t,icon:e,showConfirmButton:!1,timer:a,toast:!0,position:"top-right"});var A={data:()=>({username:"",password:""}),methods:{async test(){await E("Exito","Ingresado con exito","success")},async login(){try{const{username:t,password:e}=this;await b.login({username:t,password:e}),localStorage.setItem("username",t),localStorage.setItem("password",e),await E("Exito","Ingresado con exito","success"),this.$emit("logged")}catch(t){await E("Error",t,"error",3e3,!1),console.log(t)}}}},T=A,N=(0,d.A)(T,y,v,!1,null,null,null),w=N.exports,O=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg-white p-3 m-3 rounded shadow"},[e("section",[e("h3",{staticClass:"text-center text-dark fw-bold"},[t._v("Anulación de Pesajes")]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("label",{staticClass:"text-dark m-2 fw-bold"},[t._v("Ciclo")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.nullCycle,expression:"nullCycle"}],staticClass:"form-control",attrs:{type:"text",disabled:t.isLoading},domProps:{value:t.nullCycle},on:{input:function(e){e.target.composing||(t.nullCycle=e.target.value)}}})]),e("div",{staticClass:"col"},[e("label",{staticClass:"text-dark m-2 fw-bold"},[t._v("Fecha Ciclo")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.nullCycleDate,expression:"nullCycleDate"}],staticClass:"form-control",attrs:{type:"datetime-local",disabled:t.isLoading},domProps:{value:t.nullCycleDate},on:{input:function(e){e.target.composing||(t.nullCycleDate=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("label",{staticClass:"text-dark m-2 fw-bold"},[t._v("Carga")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.nullContainerType,expression:"nullContainerType"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.nullContainerType},on:{input:function(e){e.target.composing||(t.nullContainerType=e.target.value)}}})]),e("div",{staticClass:"col"},[e("label",{staticClass:"text-dark m-2 fw-bold"},[t._v("Numero de Registro")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.nullRegistryNumber,expression:"nullRegistryNumber"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.nullRegistryNumber},on:{input:function(e){e.target.composing||(t.nullRegistryNumber=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("label",{staticClass:"text-dark m-2 fw-bold"},[t._v("Tipo de Pesaje")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.nullWeightingType,expression:"nullWeightingType"}],staticClass:"form-control",attrs:{type:"text"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.nullWeightingType=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"E"}},[t._v("Entrada")]),e("option",{attrs:{value:"S"}},[t._v("Salida")])])])])])]),e("div",{staticClass:"m-3 text-center"},[e("button",{staticClass:"btn btn-primary btn-lg me-2",attrs:{type:"button"},on:{click:t.nullWeight}},[t._v(" Anular Pesaje ")]),e("button",{staticClass:"btn btn-danger btn-lg me-2",attrs:{type:"button"},on:{click:t.goBack}},[t._v(" Regresar ")])])])},f=[],P={getLocalCycle({username:t,password:e,cycle:a,date:s,correlative:o}){return p.A.get(`${C}/get-local-ciclo?username=${t}&password=${e}&numero_ciclo=${a}&fecha=${s}&correlativo=${o}`)},getCycle({cycle:t}){return p.A.get(`${C}/get-datos-ciclo?numero_ciclo=${t}`)},nullCycle({nullCycle:t,nullCycleDate:e,nullContainerType:a,nullRegistryNumber:s,nullWeightingType:o}){return p.A.get(`${C}/anular-pesaje?ciclo=${t}&fecha=${e}&indicador=${a}&numero_registro=${s}&tipo_pesaje=${o}`)},localNullCycle({nullCycle:t,nullCycleDate:e,username:a,password:s}){return p.A.get(`${C}/actualizar-anulado?ciclo=${t}&fecha=${e}\n                &username=${a}&password=${s}`)},getPolicy({cycle:t,bl:e}){return p.A.get(`${C}/get-datos-poliza?numero_ciclo=${t}&bl=${e}`)},getReportEmployees({to:t,from:e,username:a,password:s}){return p.A.get(`${C}/get-excel?to=${t}&from=${e}&username=${a}&password=${s}`,{responseType:"blob"})},getWeightData({cycle:t,registryNumber:e}){return p.A.get(`${C}/get-datos-pesaje?numero_ciclo=${t}&numero_registro=${e}`)},getBL({duca:t}){return p.A.get(`${C}/get-datos-salida?no_duca=${t}`)},getAppointment({containerNumber:t}){return p.A.get(`${C}/get-datos-cita?contenedor=${t}`)}};function S(t){const[e,a]=t?t.split(" "):[null,null];return{DATE:e,TIME:a}}function R(t){const e=new Date(t),a=String(e.getDate()).padStart(2,"0"),s=String(e.getMonth()+1).padStart(2,"0"),o=e.getFullYear(),l=String(e.getHours()).padStart(2,"0"),i=String(e.getMinutes()).padStart(2,"0"),n=String(e.getSeconds()).padStart(2,"0"),r=`${a}/${s}/${o} ${l}:${i}:${n}`;return console.log(r),r}var _={data:()=>({isLoading:!1,nullCycle:null,nullCycleDate:null,nullContainerType:null,nullRegistryNumber:null,nullWeightingType:null}),methods:{goBack(){this.$emit("goBack")},async nullWeight(){if(this.isFormValid){const{nullCycle:e,nullCycleDate:a,nullContainerType:s,nullRegistryNumber:o,nullWeightingType:l}=this,i=localStorage.getItem("username"),n=localStorage.getItem("password"),r=R(a);this.isLoading=!0;try{h("Anulando Pesaje por favor espere","warning");const{data:t}=await P.nullCycle({nullCycle:e,nullCycleDate:r,nullContainerType:s,nullRegistryNumber:o,nullWeightingType:l}),{TIPO_RESPUESTA:a}=t;"01"===a["RESULTADO"]?(await h(`Exito, pesaje ${e} anulado`,"success"),await this.nullLocalWeight({nullCycle:e,formatedCycleDate:r,username:i,password:n})):await E("Advertencia",a["DESCRIPCION"],"warning")}catch(t){await E("Error",t,"error",3e3,!1),console.log(t)}finally{this.isLoading=!1}}else h("Por favor ingrese todos los datos","warning")},async nullLocalWeight({nullCycle:t,formatedCycleDate:e,username:a,password:s}){try{h("Registrando anulación de pesaje en local por favor espere","warning"),await P.localNullCycle({nullCycle:t,nullCycleDate:e,username:a,password:s}),await h(`Exito, anulación de pesaje ${t} registrada`,"success")}catch(o){await h(`Error al registrar anulación de pesaje local ${o}`,"error")}}},computed:{isFormValid(){return!!this.nullCycle&&!!this.nullCycleDate&&!!this.nullContainerType&&!!this.nullRegistryNumber&&!!this.nullWeightingType}}},D=_,I=(0,d.A)(D,O,f,!1,null,null,null),L=I.exports,B=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg-white p-3 m-3 rounded"},[e("h3",{staticClass:"text-center text-dark fw-bold"},[t._v("Impresión de Boleta DUCA")]),e("div",{staticClass:"row mt-1"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-dark fw-bold"},[t._v("Ciclo")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.cycle,expression:"cycle"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.cycle},on:{input:function(e){e.target.composing||(t.cycle=e.target.value)}}})]),e("label",{staticClass:"mb-2 text-dark fw-bold"},[t._v("Numero de Registro")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.correlative,expression:"correlative"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.correlative},on:{input:function(e){e.target.composing||(t.correlative=e.target.value)}}})])]),e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-dark fw-bold"},[t._v("Fecha")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.date,expression:"date"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.date},on:{input:function(e){e.target.composing||(t.date=e.target.value)}}})])])])]),e("div",{staticClass:"m-3 text-center"},[e("button",{staticClass:"btn btn-primary btn-lg me-2",attrs:{type:"button"},on:{click:t.getCycleData}},[t._v(" Verificar ")]),e("button",{staticClass:"btn btn-danger btn-lg me-2",attrs:{type:"button"},on:{click:t.goBack}},[t._v(" Regresar ")])])])},k=[];a(4603),a(7566),a(8721);const $={timeZone:"UTC"},M=t=>{let e=new Date(t);return e.setUTCHours(12,0,0,0),new Date(e.getFullYear(),e.getMonth(),e.getDate()).toLocaleDateString("es",$)},U=(t,e)=>{const a=new Date;return[{text:"NEPORSA",style:"header"},{text:"NIT:813288-7",style:"header"},{text:"\n",style:""},{text:"FECHA DE IMPRESION",style:"bodyText"},{text:a.toLocaleString("es",$),style:"bodyText"},{text:"OPERADOR BASCULA",style:"bodyText"},{text:t["USUARIO"],style:"bodyText"},{text:"\n",style:""},{text:"..........................................",style:"header"},{text:"DATOS TRANSPORTE",style:"header"},{text:"NUMERO DE CICLO",style:"bodyText"},{text:`${M(t["FECHA_CICLO"])} ${t["NUM_CICLO"]}`,style:"bodyText"},{text:"LICENCIA PILOTO",style:"bodyText"},{text:`${t["COD_PAIS_PLACA"]} ${t["NUMERO_LICENCIA_PILOTO"]}`,style:"bodyText"},{text:"NOMBRE PILOTO",style:"bodyText"},{text:t["NOMBRE_PILOTO"],style:"bodyText"},{text:"PLACAS VEHICULO",style:"bodyText"},{text:`${t["COD_PAIS_PLACA"]} ${t["NUMERO_PLACA"]}`,style:"bodyText"},{text:"TRANSPORTISTA",style:"bodyText"},{text:t["NOMBRE_TRANSPORTISTA"],style:"bodyText"},{text:"OBSERVACIONES",style:"bodyText"},{text:t["DESCRIPCION"],style:"bodyText"},{text:"..........................................",style:"header"},{text:"DATOS PESAJE",style:"header"},{text:`REGISTRO ${t["CORRELATIVO9"]}`,style:"bodyText"},{text:"NUMERO DE CONTENEDOR",style:"bodyText"},{text:t["IDENTIF_CONTENEDOR"],style:"bodyText"},{text:"\n",style:""},{text:"PESAJE ENTRADA",style:"header"},{text:"NUMERO DE BOLETA",style:"bodyText"},{text:`${t["TICKET1"]}-${(new Date).getFullYear()}`,style:"bodyText"},{text:"FECHA PESAJE",style:"bodyText"},{text:t["FECHA_PESAJE_1"],style:"bodyText"},{text:`BASCULA: ${t["NUM_BASCULA_1"]}`,style:"bodyText"},{text:"EMPRESA: BAGAGO",style:"bodyText"},{text:"TICKET: --",style:"bodyText"},{text:"\n",style:""},{text:"\n",style:""},{text:`ENTRADA: ${t["PESO_BRUTO"]}`,style:"header"},{text:`TARA: ${t["PESO_TARA_CONTENED"]}`,style:"header"},{text:"------------------------------------",style:"header"},{text:"Corte con cuidado esta sección",style:"subheader"},{text:"------------------------------------",style:"header"},{text:"NEPORSA",style:"header"},{text:"NIT:813288-7",style:"header"},{text:"\n",style:""},{text:"FECHA DE IMPRESION",style:"bodyText"},{text:a.toLocaleString("es",$),style:"bodyText"},{text:"OPERADOR BASCULA",style:"bodyText"},{text:t["USUARIO"],style:"bodyText"},{text:"\n",style:""},{text:"------------------------------------",style:"header"},{text:"DATOS TRANSPORTE",style:"header"},{text:"NUMERO DE CICLO",style:"bodyText"},{text:`${M(t["FECHA_CICLO"])} ${t["NUM_CICLO"]}`,style:"bodyText"},{text:"LICENCIA PILOTO",style:"bodyText"},{text:`${t["COD_PAIS_PLACA"]} ${t["NUMERO_LICENCIA_PILOTO"]}`,style:"bodyText"},{text:"NOMBRE PILOTO",style:"bodyText"},{text:t["NOMBRE_PILOTO"],style:"bodyText"},{text:"PLACAS VEHICULO",style:"bodyText"},{text:`${t["COD_PAIS_PLACA"]} ${t["NUMERO_PLACA"]}`,style:"bodyText"},{text:"TRANSPORTISTA",style:"bodyText"},{text:t["NOMBRE_TRANSPORTISTA"],style:"bodyText"},{text:"OBSERVACIONES",style:"bodyText"},{text:t["DESCRIPCION"],style:"bodyText"},{text:"..........................................",style:"header"},{text:"DATOS PESAJE",style:"header"},{text:`REGISTRO ${t["CORRELATIVO9"]}`,style:"bodyText"},{text:"NUMERO DE CONTENEDOR",style:"bodyText"},{text:t["IDENTIF_CONTENEDOR"],style:"bodyText"},{text:"\n",style:""},{text:"PESAJE ENTRADA",style:"header"},{text:"NUMERO DE BOLETA",style:"bodyText"},{text:`${t["TICKET1"]}-${(new Date).getFullYear()}`,style:"bodyText"},{text:"FECHA PESAJE",style:"bodyText"},{text:t["FECHA_PESAJE_1"],style:"bodyText"},{text:`BASCULA: ${t["NUM_BASCULA_1"]}`,style:"bodyText"},{text:"EMPRESA: BAGAGO",style:"bodyText"},{text:"TICKET: --",style:"bodyText"},{text:"\n",style:""},{text:"\n",style:""},{text:`ENTRADA: ${t["PESO_BRUTO"]}`,style:"header"},{text:"CERTIFICADO: BRM-CC-42473/19",style:"header"},{text:"BRM-CC-42473/19",style:"header"},{text:`VGM: ${t["VGM"]} Kg`,style:"header"},{text:"\n",style:""},{qr:e,fit:170,alignment:"left",margin:[30,2,0,0]}]},W=(t,e)=>{const a=new Date;return[{text:"NEPORSA",style:"header"},{text:"NIT:813288-7",style:"header"},{text:"\n",style:""},{text:"FECHA DE IMPRESION",style:"bodyText"},{text:a.toLocaleString("es",$),style:"bodyText"},{text:"OPERADOR BASCULA",style:"bodyText"},{text:t["USUARIO"],style:"bodyText"},{text:"\n",style:""},{text:"..........................................",style:"header"},{text:"DATOS TRANSPORTE",style:"header"},{text:"NUMERO DE CICLO",style:"bodyText"},{text:`${M(t["FECHA_CICLO"])} ${t["NUM_CICLO"]}`,style:"bodyText"},{text:"LICENCIA PILOTO",style:"bodyText"},{text:`${t["COD_PAIS_PLACA"]} ${t["NUMERO_LICENCIA_PILOTO"]}`,style:"bodyText"},{text:"NOMBRE PILOTO",style:"bodyText"},{text:t["NOMBRE_PILOTO"],style:"bodyText"},{text:"PLACAS VEHICULO",style:"bodyText"},{text:`${t["COD_PAIS_PLACA"]} ${t["NUMERO_PLACA"]}`,style:"bodyText"},{text:"TRANSPORTISTA",style:"bodyText"},{text:t["NOMBRE_TRANSPORTISTA"],style:"bodyText"},{text:"OBSERVACIONES",style:"bodyText"},{text:t["DESCRIPCION"],style:"bodyText"},{text:"..........................................",style:"header"},{text:"DATOS PESAJE",style:"header"},{text:`REGISTRO ${t["CORRELATIVO9"]}`,style:"bodyText"},{text:"NUMERO DE CONTENEDOR",style:"bodyText"},{text:t["IDENTIF_CONTENEDOR"],style:"bodyText"},{text:"\n",style:""},{text:"PESAJE ENTRADA",style:"header"},{text:"NUMERO DE BOLETA",style:"bodyText"},{text:`${t["TICKET1"]}-${(new Date).getFullYear()}`,style:"bodyText"},{text:"FECHA PESAJE",style:"bodyText"},{text:t["FECHA_PESAJE_1"],style:"bodyText"},{text:`BASCULA: ${t["NUM_BASCULA_1"]}`,style:"bodyText"},{text:"EMPRESA: BAGAGO",style:"bodyText"},{text:"TICKET: --",style:"bodyText"},{text:"\n",style:""},{text:"\n",style:""},{text:`ENTRADA: ${t["PESO_BRUTO"]}`,style:"header"},{text:`TARA: ${t["PESO_TARA_CONTENED"]}`,style:"header"},{text:"------------------------------------",style:"header"},{text:"Corte con cuidado esta sección",style:"subheader"},{text:"------------------------------------",style:"header"},{text:"NEPORSA",style:"header"},{text:"NIT:813288-7",style:"header"},{text:"\n",style:""},{text:"FECHA DE IMPRESION",style:"bodyText"},{text:a.toLocaleString("es",$),style:"bodyText"},{text:"OPERADOR BASCULA",style:"bodyText"},{text:t["USUARIO"],style:"bodyText"},{text:"\n",style:""},{text:"------------------------------------",style:"header"},{text:"DATOS TRANSPORTE",style:"header"},{text:"NUMERO DE CICLO",style:"bodyText"},{text:`${M(t["FECHA_CICLO"])} ${t["NUM_CICLO"]}`,style:"bodyText"},{text:"LICENCIA PILOTO",style:"bodyText"},{text:`${t["COD_PAIS_PLACA"]} ${t["NUMERO_LICENCIA_PILOTO"]}`,style:"bodyText"},{text:"NOMBRE PILOTO",style:"bodyText"},{text:t["NOMBRE_PILOTO"],style:"bodyText"},{text:"PLACAS VEHICULO",style:"bodyText"},{text:`${t["COD_PAIS_PLACA"]} ${t["NUMERO_PLACA"]}`,style:"bodyText"},{text:"TRANSPORTISTA",style:"bodyText"},{text:t["NOMBRE_TRANSPORTISTA"],style:"bodyText"},{text:"OBSERVACIONES",style:"bodyText"},{text:t["DESCRIPCION"],style:"bodyText"},{text:"..........................................",style:"header"},{text:"DATOS PESAJE",style:"header"},{text:`REGISTRO ${t["CORRELATIVO9"]}`,style:"bodyText"},{text:"NUMERO DE CONTENEDOR",style:"bodyText"},{text:t["IDENTIF_CONTENEDOR"],style:"bodyText"},{text:"\n",style:""},{text:"PESAJE DE ENTRADA",style:"header"},{text:"NUMERO DE BOLETA",style:"bodyText"},{text:`${t["TICKET1"]}-${(new Date).getFullYear()}`,style:"bodyText"},{text:"FECHA PESAJE",style:"bodyText"},{text:`${M(t["FECHA_PESAJE_1"])} `,style:"bodyText"},{text:`BASCULA: ${t["NUM_BASCULA_1"]}`,style:"bodyText"},{text:"TICKET: --",style:"bodyText"},{text:"\n",style:""},{text:"PESAJE DE SALIDA",style:"header"},{text:"NUMERO DE BOLETA",style:"bodyText"},{text:`${t["TICKET2"]}-${(new Date).getFullYear()}`,style:"bodyText"},{text:"FECHA PESAJE",style:"bodyText"},{text:`${M(t["FECHA_PESAJE_2"])} `,style:"bodyText"},{text:`BASCULA: ${t["NUM_BASCULA_2"]}`,style:"bodyText"},{text:"TICKET: --",style:"bodyText"},{text:"\n",style:""},{text:"\n",style:""},{text:`ENTRADA: ${t["PESO_BRUTO"]} TM`,style:"header"},{text:`SALIDA: ${t["PESO_TARA"]} TM`,style:"header"},{text:`TARA: ${t["PESO_TARA_CONTENED"]} TM`,style:"header"},{text:`NETO: ${(parseFloat(t["PESO_TARA"])-(parseFloat(t["PESO_BRUTO"])+parseFloat(t["PESO_TARA_CONTENED"]))).toFixed(3)}TM`,style:"header"},{text:"CERTIFICADO: BRM-CC-42473/19",style:"header"},{text:`VGM: ${t["VGM"]} Kg`,style:"header"},{text:"\n",style:""},{qr:e,fit:170,alignment:"left",margin:[30,2,0,0]}]};var F={data:()=>({date:null,cycle:null,correlative:null}),methods:{goBack(){this.$emit("goBack")},async getCycleData(){try{const t=localStorage.getItem("username"),e=localStorage.getItem("password"),{date:a,cycle:s,correlative:o,transformDate:l,printPDF:i}=this,n=l(a);console.log("transformedDate",n);const{data:r}=await P.getLocalCycle({username:t,password:e,date:n,cycle:s,correlative:o});await E("Exito","Ingresado con exito","success");let{data:c}=await P.getPolicy({cycle:s,bl:r["BL"]});c=c["PARAMETROS_SALIDA"];const d=`${c["POLIZA"]}|${c["NUMERO_BL"]}|${c["CONSIGNATARIO"]}|${s}|${c["NUMERO_MANIFIESTO"]}`;i(r,d),console.log("response data",r)}catch(t){await E("Error",t,"error",3e3,!1),console.log(t)}},transformDate(t){const[e,a,s]=t.split("-"),o=e.slice(-2),l=`${s}/${a}/${o}`;return l},printPDF(t,e){const s=a(4133),o=a(2181);s.vfs=o.pdfMake.vfs;const l={pageMargins:[0,0,0,0],content:t.FECHA_PESAJE_2?W(t,e):U(t,e),styles:{header:{fontSize:14,alignment:"left",bold:!0,margin:[30,2,0,0]},subheader:{fontSize:12,alignment:"left",bold:!0,margin:[30,2,0,0]},spacer:{fontSize:10,bold:!0,alignment:"left",margin:[10,10,10,10]},bodyText:{fontSize:10,alignment:"left",margin:[30,2,0,0]}}};s.createPdf(l).getBlob((t=>{const e=URL.createObjectURL(t);window.open(e)}))}}},H=F,j=(0,d.A)(H,B,k,!1,null,null,null),V=j.exports,G=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg-white p-3 m-3 rounded shadow"},[e("section",[e("h3",{staticClass:"text-center text-black fw-bold"},[t._v("Pesaje de Camiones")]),e("div",{staticClass:"row mt-1"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Ciclo")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.headerCycle,expression:"headerCycle"}],staticClass:"form-control writeable",attrs:{type:"text",disabled:t.isLoading,tabindex:"1"},domProps:{value:t.headerCycle},on:{change:t.getHeaderAndWeightData,input:function(e){e.target.composing||(t.headerCycle=e.target.value)}}})]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.headerCycleDate,expression:"headerCycleDate"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.headerCycleDate},on:{input:function(e){e.target.composing||(t.headerCycleDate=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Licencia")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.headerLicenseCountry,expression:"headerLicenseCountry"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.headerLicenseCountry},on:{input:function(e){e.target.composing||(t.headerLicenseCountry=e.target.value)}}})]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.headerLicenseNumber,expression:"headerLicenseNumber"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.headerLicenseNumber},on:{input:function(e){e.target.composing||(t.headerLicenseNumber=e.target.value)}}})])])])]),e("div",{staticClass:"row mt-1"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Transporte")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.headerCompany,expression:"headerCompany"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.headerCompany},on:{input:function(e){e.target.composing||(t.headerCompany=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Piloto")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.headerPilot,expression:"headerPilot"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.headerPilot},on:{input:function(e){e.target.composing||(t.headerPilot=e.target.value)}}})])])])]),e("div",{staticClass:"row mt-1"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Placa")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.headerPlateCountry,expression:"headerPlateCountry"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.headerPlateCountry},on:{input:function(e){e.target.composing||(t.headerPlateCountry=e.target.value)}}})]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.headerPlateNumber,expression:"headerPlateNumber"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.headerPlateNumber},on:{input:function(e){e.target.composing||(t.headerPlateNumber=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Observación")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.headerObservation,expression:"headerObservation"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.headerObservation},on:{input:function(e){e.target.composing||(t.headerObservation=e.target.value)}}})])])])]),e("div",{staticClass:"row mt-1 border-bottom pb-2"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Ingreso Puerto")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.headerEntryDate,expression:"headerEntryDate"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.headerEntryDate},on:{input:function(e){e.target.composing||(t.headerEntryDate=e.target.value)}}})]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.headerEntryHour,expression:"headerEntryHour"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.headerEntryHour},on:{input:function(e){e.target.composing||(t.headerEntryHour=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Tipo Camión")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.headerTruckType,expression:"headerTruckType"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.headerTruckType},on:{input:function(e){e.target.composing||(t.headerTruckType=e.target.value)}}})])])])])]),e("section",[e("div",{staticClass:"row mt-1"},[e("h4",{staticClass:"text-center text-black fw-bold"},[t._v(" Información de Movimientos ")]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Num. Registro")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.movementRegistryNumber,expression:"movementRegistryNumber"}],staticClass:"form-control",attrs:{type:"number",readonly:""},domProps:{value:t.movementRegistryNumber},on:{change:t.getWeightData,input:function(e){e.target.composing||(t.movementRegistryNumber=e.target.value)}}})])])])]),e("div",{staticClass:"row mt-1"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Peso Entrada")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.movementEntryWeight,expression:"movementEntryWeight"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.movementEntryWeight},on:{input:function(e){e.target.composing||(t.movementEntryWeight=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Tiempo Entrada")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.movementEntryDate,expression:"movementEntryDate"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.movementEntryDate},on:{input:function(e){e.target.composing||(t.movementEntryDate=e.target.value)}}})]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.movementEntryDate,expression:"movementEntryDate"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.movementEntryDate},on:{input:function(e){e.target.composing||(t.movementEntryDate=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Bascula Entrada")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.movementEntryBascName,expression:"movementEntryBascName"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.movementEntryBascName},on:{input:function(e){e.target.composing||(t.movementEntryBascName=e.target.value)}}})]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.movementEntryBascNumber,expression:"movementEntryBascNumber"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.movementEntryBascNumber},on:{input:function(e){e.target.composing||(t.movementEntryBascNumber=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Boleta Entrada")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.movementEntryBoleta,expression:"movementEntryBoleta"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.movementEntryBoleta},on:{input:function(e){e.target.composing||(t.movementEntryBoleta=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Ticket Entrada")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.movementEntryTicket,expression:"movementEntryTicket"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.movementEntryTicket},on:{input:function(e){e.target.composing||(t.movementEntryTicket=e.target.value)}}})])])])]),e("div",{staticClass:"row mt-1 border-bottom pb-2"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Peso Salida")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.movementExitWeight,expression:"movementExitWeight"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.movementExitWeight},on:{input:function(e){e.target.composing||(t.movementExitWeight=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Tiempo Salida")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.movementExitDate,expression:"movementExitDate"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.movementExitDate},on:{input:function(e){e.target.composing||(t.movementExitDate=e.target.value)}}})]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.movementExitDate,expression:"movementExitDate"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.movementExitDate},on:{input:function(e){e.target.composing||(t.movementExitDate=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Bascula Salida")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.movementExitBascName,expression:"movementExitBascName"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.movementExitBascName},on:{input:function(e){e.target.composing||(t.movementExitBascName=e.target.value)}}})]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.movementExitBascNumber,expression:"movementExitBascNumber"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.movementExitBascNumber},on:{input:function(e){e.target.composing||(t.movementExitBascNumber=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Boleta Salida")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.movementExitBoleta,expression:"movementExitBoleta"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.movementExitBoleta},on:{input:function(e){e.target.composing||(t.movementExitBoleta=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Ticket Salida")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.movementExitTicket,expression:"movementExitTicket"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.movementExitTicket},on:{input:function(e){e.target.composing||(t.movementExitTicket=e.target.value)}}})])])])])]),e("section",[e("div",{staticClass:"row mt-1"},[e("h4",{staticClass:"text-center text-black fw-bold"},[t._v(" Información de Contenedor ")]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Num. de Contenedor")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.containerNumber,expression:"containerNumber"}],staticClass:"form-control writeable",attrs:{type:"text",tabindex:"2",disabled:t.isLoading},domProps:{value:t.containerNumber},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.checkAppointment.apply(null,arguments)},change:t.checkAppointment,input:function(e){e.target.composing||(t.containerNumber=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Peso Tara")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.containerTaraWeight,expression:"containerTaraWeight"}],staticClass:"form-control writeable",attrs:{type:"text",tabindex:"3",disabled:t.isLoading},domProps:{value:t.containerTaraWeight},on:{input:function(e){e.target.composing||(t.containerTaraWeight=e.target.value)}}})])])])]),e("div",{staticClass:"row mt-1"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Peso Neto Carga")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.calculatedContainerNetWeight,expression:"calculatedContainerNetWeight"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.calculatedContainerNetWeight},on:{input:function(e){e.target.composing||(t.calculatedContainerNetWeight=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Buque")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.containerShip,expression:"containerShip"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.containerShip},on:{input:function(e){e.target.composing||(t.containerShip=e.target.value)}}})])])])]),e("div",{staticClass:"row mt-1 border-bottom pb-2"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Tipo de Carga")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.containerLoadType,expression:"containerLoadType"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.containerLoadType},on:{input:function(e){e.target.composing||(t.containerLoadType=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Observaciones")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.containerObservations,expression:"containerObservations"}],staticClass:"form-control writeable",attrs:{type:"text",tabindex:"4",disabled:t.isLoading},domProps:{value:t.containerObservations},on:{input:function(e){e.target.composing||(t.containerObservations=e.target.value)}}})])])])])]),e("section",[e("div",{staticClass:"row mt-1"},[e("h4",{staticClass:"text-center text-black fw-bold"},[t._v("Información de Poliza")]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("DUCA")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.policyDucaNumber,expression:"policyDucaNumber"}],staticClass:"form-control writeable",attrs:{type:"text",disabled:t.isLoading},domProps:{value:t.policyDucaNumber},on:{change:t.getDucaAndPolicyData,input:function(e){e.target.composing||(t.policyDucaNumber=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("No. BL")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.policyBlNumber,expression:"policyBlNumber"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.policyBlNumber},on:{input:function(e){e.target.composing||(t.policyBlNumber=e.target.value)}}})])])])]),e("div",{staticClass:"row mt-1"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Consignatario")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.policyCosignee,expression:"policyCosignee"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.policyCosignee},on:{input:function(e){e.target.composing||(t.policyCosignee=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Manifiesto")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.policyManifest,expression:"policyManifest"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.policyManifest},on:{input:function(e){e.target.composing||(t.policyManifest=e.target.value)}}})])])])]),e("div",{staticClass:"row mt-1"},[e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Poliza")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.policyNumber,expression:"policyNumber"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.policyNumber},on:{input:function(e){e.target.composing||(t.policyNumber=e.target.value)}}})])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("label",{staticClass:"mb-2 text-black fw-bold"},[t._v("Peso")]),e("div",{staticClass:"col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.policyWeight,expression:"policyWeight"}],staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.policyWeight},on:{input:function(e){e.target.composing||(t.policyWeight=e.target.value)}}})])])])])]),e("div",{staticClass:"row text-center mt-4 justify-content-center gap-3 overflow-auto p-2"},[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("button",{staticClass:"btn btn-lg btn-primary",attrs:{type:"button",disabled:!t.isGoBackARegistryNumberPossible},on:{click:t.gotoFirstRegistryNumber}},[t._v(" Primero ")]),e("button",{staticClass:"btn btn-lg btn-primary",attrs:{type:"button",disabled:!t.isGoBackARegistryNumberPossible},on:{click:t.goBackARegistryNumber}},[t._v(" Anterior ")]),e("button",{staticClass:"btn btn-lg btn-primary",attrs:{type:"button"},on:{click:t.goUpARegistryNumber}},[t._v(" Siguiente ")]),e("button",{staticClass:"btn btn-lg btn-primary",attrs:{type:"button"},on:{click:function(e){return t.getHeaderAndWeightData(!1)}}},[t._v(" Ultimo ")])]),e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("button",{staticClass:"btn btn-warning btn-lg",attrs:{type:"button"},on:{click:t.resetData}},[t._v(" Limpiar ")]),e("button",{staticClass:"btn btn-success btn-lg",attrs:{type:"button"}},[t._v("Guardar")]),e("button",{staticClass:"btn btn-danger btn-lg",attrs:{type:"button"},on:{click:t.goBack}},[t._v(" Regresar ")]),e("button",{staticClass:"btn btn-info btn-lg",attrs:{type:"button"}},[t._v("Pesar")]),e("button",{staticClass:"btn btn-info btn-lg",attrs:{type:"button"},on:{click:t.checkAppointment}},[t._v(" Verificar Cita ")])])])])},J=[],K={data:()=>({isLoading:!1,lastCycle:1,VGM:"",headerCycle:null,headerCycleDate:null,headerCompany:null,headerLicenseNumber:null,headerLicenseCountry:null,headerPilot:null,headerPlateCountry:null,headerPlateNumber:null,headerObservation:null,headerTruckType:null,headerEntryDate:null,headerEntryHour:null,movementRegistryNumber:1,movementEntryWeight:null,movementExitWeight:null,movementEntryDate:null,movementEntryTime:null,movementExitDate:null,movementExitTime:null,movementEntryBascName:null,movementEntryBascNumber:null,movementExitBascName:null,movementExitBascNumber:null,movementEntryBoleta:null,movementExitBoleta:null,movementEntryTicket:null,movementExitTicket:null,containerNumber:null,containerTaraWeight:null,containerLoadNetWeight:null,containerShip:null,containerLoadType:null,containerObservations:null,policyDucaNumber:null,policyBlNumber:null,policyCosignee:null,policyManifest:null,policyNumber:null,policyWeight:null}),methods:{checkObject(t){return t&&"object"===typeof t&&Object.keys(t).length>0},goBack(){this.$emit("goBack")},resetData(){this.isLoading=!1,this.lastCycle=1,this.headerCycle=null,this.headerCycleDate=null,this.headerCompany=null,this.headerLicenseNumber=null,this.headerLicenseCountry=null,this.headerPilot=null,this.headerPlateCountry=null,this.headerPlateNumber=null,this.headerObservation=null,this.headerTruckType=null,this.headerEntryDate=null,this.headerEntryHour=null,this.movementRegistryNumber=1,this.movementEntryWeight=null,this.movementExitWeight=null,this.movementEntryDate=null,this.movementEntryTime=null,this.movementExitDate=null,this.movementExitTime=null,this.movementEntryBascName=null,this.movementEntryBascNumber=null,this.movementExitBascName=null,this.movementExitBascNumber=null,this.movementEntryBoleta=null,this.movementExitBoleta=null,this.movementEntryTicket=null,this.movementExitTicket=null,this.containerNumber=null,this.containerTaraWeight=null,this.containerLoadNetWeight=null,this.containerShip=null,this.containerLoadType=null,this.containerObservations=null,this.policyDucaNumber=null,this.policyBlNumber=null,this.policyCosignee=null,this.policyManifest=null,this.policyNumber=null,this.policyWeight=null},setHeaderData({FECHA_CICLO:t,PAIS_LICENCIA:e,NUMERO_LICENCIA:a,PAIS_PLACA:s,NUMERO_PLACA:o,OBSERVACION_CICLO:l,FECHA_INGRESO:i,TIPO_CAMION:n,NOMBRE_PILOTO:r,NOMBRE_TRANSPORTISTA:c}){const d=S(t),m=S(i);this.headerCycleDate=d["DATE"],this.headerLicenseCountry=e,this.headerLicenseNumber=a,this.headerCompany=c,this.headerPilot=r,this.headerPlateCountry=s,this.headerPlateNumber=o,this.headerObservation=l,this.headerEntryDate=m["DATE"],this.headerEntryHour=m["TIME"],this.headerTruckType=n},setMovementData({PESO_ENTRADA:t,BASCULA_PESO_ENTRADA:e,EMPRESA_PESO_ENTRADA:a,FECHA_PESO_ENTRADA:s,BOLETA_PESO_ENTRADA:o,TICKET_FAC1:l,PESO_SALIDA:i,BASCULA_PESO_SALIDA:n,EMPRESA_PESO_SALIDA:r,FECHA_PESO_SALIDA:c,BOLETA_PESO_SALIDA:d,REGISTROS:m,TICKET_FAC2:u,VGM:y}){const v=S(s),C=S(c);this.movementEntryWeight=t,this.movementExitWeight=i,this.movementEntryDate=v["DATE"],this.movementEntryTime=v["TIME"],this.movementExitDate=C["DATE"],this.movementExitTime=C["TIME"],this.movementEntryBascName=a,this.movementEntryBascNumber=e,this.movementExitBascName=r,this.movementExitBascNumber=n,this.movementEntryBoleta=o,this.movementExitBoleta=d,this.movementEntryTicket=l,this.movementExitTicket=u,this.lastCycle=Number.parseInt(m),this.VGM=y},setContainerData({NUMERO_CONTENEDOR:t,PESO_TARA_CONTE:e,OBSERVACION:a,INDICADOR_TABLA:s}){this.containerNumber=t,this.containerTaraWeight=e,this.containerObservations=a,this.containerLoadType=s},setPolicyData({POLIZA:t,NUMERO_MANIFIESTO:e,CONSIGNATARIO:a,PESO:s}){this.policyNumber=t,this.policyManifest=e,this.policyCosignee=a,this.policyCosignee=a,this.policyWeight=s},setBlNumber({BL:t}){this.policyBlNumber=t},async getCycle(){if(this.isCycleNumberSet){const{headerCycle:e}=this;try{const{data:t}=await P.getCycle({cycle:e}),{TIPO_RESPUESTA:a}=t;if("01"===a["RESULTADO"]){const{PARAMETROS_SALIDA:e}=t;return e}return await E("Advertencia",a["DESCRIPCION"],"warning"),null}catch(t){return await E("Error",t,"error",3e3,!1),console.log(t),null}}},async getWeightData(){if(this.isCycleNumberAndRegistryNumberSet){const{headerCycle:e,movementRegistryNumber:a}=this;try{const{data:t}=await P.getWeightData({cycle:e,registryNumber:a}),{TIPO_RESPUESTA:s}=t;if("01"===s["RESULTADO"]){const{PARAMETROS_SALIDA:e}=t;return e}return await E("Advertencia",s["DESCRIPCION"],"warning"),null}catch(t){return await E("Error",t,"error",3e3,!1),console.log(t),null}}},async getPolicyData(){if(this.isCycleNumberAndBlNumberSet){const{headerCycle:e,policyBlNumber:a}=this;try{const{data:t}=await P.getPolicy({cycle:e,bl:a}),{TIPO_RESPUESTA:s}=t;if("01"===s["RESULTADO"]){const{PARAMETROS_SALIDA:e}=t;return e}return await E("Advertencia",s["DESCRIPCION"],"warning"),null}catch(t){return await E("Error",t,"error",3e3,!1),console.log(t),null}}},async getDucaData(){if(this.isDucaSet){const{policyDucaNumber:e}=this;try{const{data:t}=await P.getBL({duca:e}),{TIPO_RESPUESTA:a}=t;if("01"===a["RESULTADO"]){const{PARAMETROS_SALIDA:e}=t;return e}return await E("Advertencia",a["DESCRIPCION"],"warning"),null}catch(t){return await E("Error",t,"error",3e3,!1),console.log(t),null}}},async getHeaderAndWeightData(t=!0,e=!0){this.isLoading=!0;const{getCycle:a,getWeightData:s}=this,{setHeaderData:o,setContainerData:l,setMovementData:i}=this,{checkRegistryNumber:n,checkObject:r}=this;try{if(t){await h("Atención, recopilando información de ciclo","warning");const t=await a();if(!r(t))return await E("Advertencia",`Numero de ciclo ${this.headerCycle}, no valido, abortando`,"warning"),void this.resetData();o(t)}else await h(`Atención, saltando recopilación de datos de encabezado de ciclo ${this.headerCycle}`,"warning");let c=await s();if(!r(c))return await E("Advertencia",`No se encontro información de pesajes, movimientos o contenedor con ciclo ${this.headerCycle}, abortando`,"warning"),void this.resetData();l(c),i(c),e&&n()&&(await h(`Atención, numero de registro ${this.movementRegistryNumber}, ya contiene pesajes de salida y entrada, pasando al ultimo registro disponible, registro ${this.lastCycle+1}`,"warning"),this.movementRegistryNumber=this.lastCycle+1,c=await s(),l(c),i(c)),await h("Recopilación de datos de ciclo exitoso!","success")}catch(c){await E("Error",c,"error",3e3,!1),console.log(c)}finally{this.isLoading=!1}},async getDucaAndPolicyData(){this.isLoading=!0;const{getDucaData:t,getPolicyData:e}=this,{setBlNumber:a,setPolicyData:s}=this,{checkObject:o}=this;try{await h("Atención, recopilando numero de BL","warning");const l=await t();if(!o(l))return void await E("Advertencia",`Numero de duca ${this.policyDucaNumber}, no valido, abortando`,"warning");a(l),await h(`Atención, recopilando datos de poliza con numero de BL ${this.policyBlNumber}`,"warning");let i=await e();if(!o(i))return await E("Advertencia","No se encontro información de poliza, abortando","warning"),void this.setBlNumber({BL:null});s(i),await h("Recopilación de datos de poliza exitoso!","success")}catch(l){await E("Error",l,"error",3e3,!1),console.log(l)}finally{this.isLoading=!1}},async policyDataHandler(){this.isLoading=!0;const{getPolicyData:t}=this,{setPolicyData:e}=this;try{await h("Atención, recopilando información de poliza","warning");const a=await t();e(a),await h("Recopilación de datos de ciclo exitoso!","success")}catch(a){await E("Error",a,"error",3e3,!1),console.log(a)}finally{this.isLoading=!1}},async getAppointment(){if(this.isContainerNumberSet){const{containerNumber:e}=this;try{const{data:t}=await P.getAppointment({containerNumber:e}),{TIPO_RESPUESTA:a}=t;if("01"===a["RESULTADO"]){const{PARAMETROS_SALIDA:e}=t;return e}return await E("Advertencia",a["DESCRIPCION"],"warning"),null}catch(t){return await E("Error",t,"error",3e3,!1),console.log(t),null}}else await E("Advertencia","La cita no se pudo verificar por falta de numero de contenedor, por favor ingreselo","warning")},async checkAppointment(){this.isLoading=!0;const{getAppointment:t}=this,{checkObject:e}=this;try{await h("Atención, confirmando cita de contenedor","warning");const a=await t();if(!e(a)||!a["CITA"]&&!a["PESOS"])return void(this.isContainerNumberSet&&await h(`Cita de contenedor no encontrada ${this.containerNumber}, proceda`,"success"));await E("Advertencia",`Cita de contenedor encontrada ${this.containerNumber}, información de cita ${a["CITA"]}, pesos ${a["PESOS"]}`,"warning")}catch(a){await E("Error",a,"error",3e3,!1),console.log(a)}finally{this.isLoading=!1}},checkRegistryNumber(){return 1!==this.lastCycle},goBackARegistryNumber(){this.movementRegistryNumber=this.movementRegistryNumber-1,this.getHeaderAndWeightData(!1,!1)},gotoFirstRegistryNumber(){this.movementRegistryNumber=1,this.getHeaderAndWeightData(!1,!1)},goUpARegistryNumber(){this.movementRegistryNumber=this.movementRegistryNumber+1,console.log("this.movementRegistryNumber",this.movementRegistryNumber),this.getHeaderAndWeightData(!1,!1)}},computed:{isCycleNumberSet(){return!!this.headerCycle},isCycleNumberAndBlNumberSet(){return this.headerCycle&&this.policyBlNumber},isCycleNumberAndRegistryNumberSet(){return this.headerCycle&&this.movementRegistryNumber},isContainerNumberSet(){return!!this.containerNumber},isDucaSet(){return this.policyDucaNumber},isGoBackARegistryNumberPossible(){return this.movementRegistryNumber>1},calculatedContainerNetWeight(){return(Number.parseFloat(this.movementExitWeight)-(Number.parseFloat(this.movementEntryWeight)+Number.parseFloat(this.containerTaraWeight))).toFixed(2)||null}}},z=K,Y=(0,d.A)(z,G,J,!1,null,"983572a2",null),q=Y.exports,Z={name:"App",components:{WeightingView:q,LoginView:w,NullWeightView:L,LocalMenu:u,PrintView:V},data:()=>({view:0}),methods:{async logout(){try{console.log("init logout"),localStorage.setItem("username",void 0),localStorage.setItem("password",void 0),await E("Exito","Sesión cerrada con exito","success"),this.view=0,console.log("end logout")}catch(t){await E("Error",t,"error",3e3,!1),console.log(t)}},navigate(t){this.view=t}}},Q=Z,X=(0,d.A)(Q,o,l,!1,null,null,null),tt=X.exports;a(8077);s.Ay.config.productionTip=!1,new s.Ay({render:t=>t(tt)}).$mount("#app")}},e={};function a(s){var o=e[s];if(void 0!==o)return o.exports;var l=e[s]={exports:{}};return t[s].call(l.exports,l,l.exports,a),l.exports}a.m=t,function(){var t=[];a.O=function(e,s,o,l){if(!s){var i=1/0;for(d=0;d<t.length;d++){s=t[d][0],o=t[d][1],l=t[d][2];for(var n=!0,r=0;r<s.length;r++)(!1&l||i>=l)&&Object.keys(a.O).every((function(t){return a.O[t](s[r])}))?s.splice(r--,1):(n=!1,l<i&&(i=l));if(n){t.splice(d--,1);var c=o();void 0!==c&&(e=c)}}return e}l=l||0;for(var d=t.length;d>0&&t[d-1][2]>l;d--)t[d]=t[d-1];t[d]=[s,o,l]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var o,l,i=s[0],n=s[1],r=s[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(o in n)a.o(n,o)&&(a.m[o]=n[o]);if(r)var d=r(a)}for(e&&e(s);c<i.length;c++)l=i[c],a.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return a.O(d)},s=self["webpackChunkbasculaspq"]=self["webpackChunkbasculaspq"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(8238)}));s=a.O(s)})();
//# sourceMappingURL=app.28107b82.js.map